
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://example.com/easy_data_management/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>Tutorial for Easy Data Management and Stata Users - Torch Choice</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#easy-data-wrapper-tutorial" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Torch Choice" class="md-header__button md-logo" aria-label="Torch Choice" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="241.9pt" height="365pt" viewBox="0 0 241.9 365" version="1.1">
<defs>
<clipPath id="clip1">
  <path d="M 0 0 L 241.898438 0 L 241.898438 365 L 0 365 Z M 0 0 "/>
</clipPath>
</defs>
<g id="surface1">
<g clip-path="url(#clip1)" clip-rule="nonzero">
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(60.398865%,10.598755%,11.799622%);fill-opacity:1;" d="M 235.886719 119.484375 C 235.886719 118.5625 235.886719 117.898438 235.886719 117.230469 C 235.886719 96.425781 235.875 75.621094 235.917969 54.820313 C 235.921875 53.394531 235.460938 52.414063 234.449219 51.449219 C 219.242188 36.867188 204.058594 22.257813 188.898438 7.625 C 187.800781 6.566406 186.710938 6.074219 185.140625 6.078125 C 142.371094 6.121094 99.605469 6.117188 56.835938 6.078125 C 55.355469 6.078125 54.261719 6.46875 53.21875 7.492188 C 49.527344 11.125 45.773438 14.699219 42.039063 18.289063 C 33.683594 26.320313 25.324219 34.347656 16.96875 42.382813 C 13.335938 45.871094 9.71875 49.378906 6.113281 52.855469 C 6.113281 53.300781 6.113281 53.640625 6.113281 53.980469 C 6.113281 96.339844 6.117188 138.695313 6.085938 181.054688 C 6.085938 182.261719 6.496094 183.066406 7.324219 183.894531 C 20.417969 196.941406 33.492188 210.011719 46.535156 223.109375 C 47.472656 224.050781 48.410156 224.464844 49.75 224.457031 C 57.320313 224.398438 64.890625 224.425781 72.464844 224.433594 C 73.042969 224.433594 73.621094 224.488281 74.644531 224.539063 C 71.742188 227.257813 70.460938 230.371094 69.59375 234.179688 C 71.082031 234.234375 72.199219 234.359375 73.308594 234.300781 C 78.976563 233.992188 84.304688 232.523438 89.242188 229.652344 C 90.832031 228.726563 92.546875 228.898438 94.125 229.796875 C 95.808594 230.753906 96.222656 232.242188 95.316406 233.96875 C 94.910156 234.746094 94.429688 235.511719 93.875 236.195313 C 90.800781 239.984375 86.703125 241.890625 81.96875 242.726563 C 79.636719 243.136719 77.316406 243.722656 75.074219 244.484375 C 73.582031 244.992188 72.875 246.195313 73.230469 247.292969 C 73.503906 248.140625 74.152344 248.90625 74.765625 249.589844 C 75.394531 250.289063 76.183594 250.84375 76.902344 251.460938 C 76.828125 251.609375 76.753906 251.761719 76.679688 251.910156 C 53.242188 251.910156 29.804688 251.910156 6.164063 251.910156 C 6.164063 252.78125 6.164063 253.449219 6.164063 254.117188 C 6.144531 272.804688 6.144531 291.496094 6.082031 310.183594 C 6.074219 311.609375 6.515625 312.585938 7.527344 313.554688 C 16.839844 322.457031 26.117188 331.402344 35.398438 340.34375 C 41.289063 346.019531 47.175781 351.699219 53.039063 357.40625 C 54.113281 358.449219 55.214844 358.96875 56.800781 358.96875 C 99.640625 358.917969 142.476563 358.921875 185.3125 358.960938 C 186.71875 358.960938 187.746094 358.570313 188.742188 357.605469 C 195.199219 351.339844 201.703125 345.117188 208.1875 338.878906 C 216.886719 330.511719 225.566406 322.132813 234.292969 313.792969 C 235.394531 312.738281 235.929688 311.679688 235.925781 310.082031 C 235.878906 270.109375 235.878906 230.140625 235.917969 190.167969 C 235.921875 188.683594 235.5 187.640625 234.445313 186.59375 C 221.4375 173.652344 208.464844 160.679688 195.523438 147.671875 C 194.46875 146.609375 193.417969 146.195313 191.9375 146.203125 C 181.980469 146.261719 172.019531 146.242188 162.0625 146.21875 C 161.265625 146.214844 160.328125 146.230469 159.699219 145.84375 C 155.351563 143.167969 150.949219 140.546875 146.800781 137.585938 C 143.5625 135.273438 141.082031 132.121094 139.085938 128.667969 C 138.125 127.007813 137.503906 125.199219 138.632813 123.179688 C 139.15625 123.265625 139.660156 123.234375 140.050781 123.429688 C 146.277344 126.621094 153.035156 127.347656 159.871094 127.726563 C 162.050781 127.847656 164.191406 128.058594 166.242188 128.980469 C 168.035156 129.785156 169.601563 128.535156 169.25 126.59375 C 169.085938 125.695313 168.609375 124.796875 168.085938 124.027344 C 167.070313 122.539063 165.925781 121.144531 164.660156 119.484375 C 188.476563 119.484375 211.996094 119.484375 235.886719 119.484375 Z M 0 315.160156 C 0 291.964844 0 268.773438 0 245.578125 C 0.609375 245.621094 1.21875 245.703125 1.828125 245.707031 C 23.648438 245.710938 45.472656 245.710938 67.296875 245.707031 C 67.894531 245.707031 68.496094 245.648438 69.097656 245.617188 C 69.898438 243.046875 71.621094 241.488281 73.90625 240.480469 C 74.777344 240.097656 75.699219 239.824219 76.550781 239.402344 C 76.941406 239.207031 77.21875 238.773438 77.542969 238.449219 C 77.46875 238.320313 77.394531 238.191406 77.320313 238.058594 C 76.046875 238.160156 74.773438 238.320313 73.5 238.347656 C 72.214844 238.371094 70.894531 238.429688 69.648438 238.179688 C 66.917969 237.628906 65.417969 235.339844 65.773438 232.585938 C 65.847656 231.992188 65.910156 231.398438 66.003906 230.550781 C 65.113281 230.550781 64.382813 230.550781 63.648438 230.550781 C 58.261719 230.550781 52.875 230.503906 47.488281 230.578125 C 46.007813 230.601563 44.960938 230.179688 43.90625 229.117188 C 29.859375 215.003906 15.769531 200.929688 1.679688 186.855469 C 1.160156 186.335938 0.5625 185.890625 0 185.410156 C 0 140.253906 0 95.09375 0 49.933594 C 0.332031 49.714844 0.710938 49.539063 0.992188 49.265625 C 4.589844 45.828125 8.171875 42.375 11.757813 38.929688 C 22.8125 28.300781 33.875 17.683594 44.917969 7.042969 C 47.3125 4.738281 49.628906 2.351563 51.980469 0 C 97.957031 0 143.9375 0 189.914063 0 C 190.371094 0.496094 190.804688 1.023438 191.292969 1.492188 C 195.417969 5.460938 199.558594 9.414063 203.6875 13.382813 C 211.546875 20.941406 219.402344 28.507813 227.257813 36.074219 C 232.113281 40.753906 236.964844 45.441406 241.703125 50.015625 C 241.703125 75.300781 241.703125 100.425781 241.703125 125.695313 C 218.851563 125.695313 196.160156 125.695313 173.40625 125.695313 C 173.40625 126.246094 173.421875 126.648438 173.402344 127.050781 C 173.167969 131.855469 169.175781 134.410156 164.660156 132.78125 C 163.15625 132.238281 161.507813 132.0625 159.910156 131.832031 C 158.632813 131.648438 157.320313 131.703125 156.039063 131.535156 C 152.410156 131.058594 148.785156 130.523438 145.085938 130.003906 C 145.410156 130.421875 145.71875 130.84375 146.050781 131.246094 C 148.84375 134.617188 152.519531 136.839844 156.195313 139.074219 C 157.402344 139.808594 158.613281 140.144531 160.042969 140.136719 C 171.5 140.09375 182.957031 140.140625 194.414063 140.078125 C 195.976563 140.070313 197.0625 140.550781 198.15625 141.648438 C 212.15625 155.714844 226.191406 169.75 240.261719 183.746094 C 241.410156 184.890625 241.902344 186.011719 241.902344 187.652344 C 241.855469 229.324219 241.867188 270.992188 241.867188 312.664063 C 241.867188 313.410156 241.867188 314.15625 241.867188 314.941406 C 224.503906 331.652344 207.171875 348.335938 189.855469 365 C 143.90625 365 98.019531 365 52.15625 365 C 49.609375 362.539063 47.113281 360.121094 44.609375 357.707031 C 30.621094 344.226563 16.636719 330.742188 2.636719 317.273438 C 1.828125 316.496094 0.882813 315.859375 0 315.160156 "/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 12.75 258.398438 C 12.71875 259.09375 12.667969 259.6875 12.667969 260.285156 C 12.632813 275.835938 12.636719 291.386719 12.527344 306.933594 C 12.515625 308.765625 13.140625 309.972656 14.410156 311.164063 C 19.472656 315.925781 24.476563 320.757813 29.488281 325.574219 C 38.429688 334.175781 47.375 342.777344 56.285156 351.40625 C 57.03125 352.128906 57.757813 352.464844 58.796875 352.449219 C 62.960938 352.398438 67.121094 352.472656 71.28125 352.417969 C 76.671875 352.347656 81.402344 350.507813 85.453125 346.933594 C 88.347656 344.371094 90.582031 341.277344 92.527344 337.984375 C 94.738281 334.253906 97.441406 330.957031 100.652344 328.054688 C 102.167969 326.683594 103.621094 325.238281 105.199219 323.9375 C 107.410156 322.117188 108.589844 319.746094 109.335938 317.054688 C 110.398438 313.207031 110.707031 309.253906 110.75 305.3125 C 110.882813 292.765625 110.859375 280.21875 110.878906 267.667969 C 110.882813 267.03125 110.722656 266.390625 110.640625 265.789063 C 109.265625 265.410156 108.386719 266.027344 107.609375 266.632813 C 106.375 267.59375 105.183594 268.632813 104.097656 269.753906 C 102.339844 271.5625 100.289063 272.878906 97.871094 273.5 C 95.902344 274.007813 93.882813 274.367188 91.863281 274.640625 C 89.441406 274.96875 86.878906 274.75 84.578125 275.441406 C 76.71875 277.800781 69.570313 281.523438 63.78125 287.511719 C 62.996094 288.320313 62.191406 289.050781 60.941406 288.664063 C 59.738281 288.289063 59.351563 287.253906 59.046875 286.1875 C 58.933594 285.800781 58.933594 285.378906 58.914063 284.972656 C 58.757813 281.015625 62.476563 270.03125 65.003906 266.992188 C 67.679688 263.773438 71.144531 261.648438 74.863281 259.871094 C 75.628906 259.503906 76.363281 259.082031 77.109375 258.6875 C 77.0625 258.589844 77.019531 258.496094 76.972656 258.398438 C 55.605469 258.398438 34.238281 258.398438 12.75 258.398438 Z M 172.03125 241.433594 C 170.605469 241.496094 169.546875 241.628906 168.496094 241.574219 C 162.835938 241.273438 157.476563 239.898438 152.546875 236.996094 C 150.722656 235.925781 148.867188 236.140625 147.15625 237.328125 C 145.804688 238.265625 145.417969 239.660156 146.234375 241.046875 C 146.992188 242.324219 147.835938 243.601563 148.859375 244.667969 C 151.964844 247.890625 155.894531 249.433594 160.273438 250.089844 C 162.277344 250.390625 164.3125 250.828125 166.1875 251.574219 C 168.828125 252.628906 169.503906 254.75 168.191406 257.242188 C 167.660156 258.253906 166.914063 259.175781 166.152344 260.03125 C 164.253906 262.160156 164.160156 264.085938 166.082031 266.179688 C 166.710938 266.863281 167.550781 267.375 168.34375 267.894531 C 169.882813 268.898438 171.503906 269.78125 172.996094 270.851563 C 175.296875 272.492188 177.421875 274.425781 178.417969 277.109375 C 180.027344 281.445313 181.433594 285.863281 182.75 290.296875 C 183.144531 291.628906 183.097656 293.140625 183.003906 294.554688 C 182.902344 296.148438 181.867188 296.878906 180.316406 296.464844 C 179.082031 296.132813 177.855469 295.625 176.761719 294.96875 C 174.191406 293.425781 171.757813 291.652344 169.171875 290.144531 C 165.941406 288.257813 162.6875 286.386719 159.304688 284.800781 C 156.441406 283.457031 153.332031 283.042969 150.121094 283.484375 C 148.371094 283.726563 146.585938 283.675781 144.816406 283.777344 C 141.253906 283.980469 138.101563 282.945313 135.308594 280.730469 C 134.363281 279.984375 133.34375 278.957031 132.054688 279.496094 C 130.582031 280.113281 130.871094 281.648438 130.867188 282.914063 C 130.851563 291.234375 130.847656 299.554688 130.867188 307.878906 C 130.871094 310.875 130.78125 313.886719 131.015625 316.871094 C 131.722656 325.789063 135.359375 332.960938 143.585938 337.296875 C 147.066406 339.128906 149.996094 341.652344 152.550781 344.640625 C 153.296875 345.511719 154.160156 346.339844 155.121094 346.949219 C 160.089844 350.117188 165.496094 352.117188 171.414063 352.402344 C 175.359375 352.589844 179.320313 352.457031 183.273438 352.539063 C 184.339844 352.5625 185.039063 352.128906 185.765625 351.425781 C 190.457031 346.863281 195.179688 342.335938 199.898438 337.800781 C 209.332031 328.726563 218.761719 319.648438 228.222656 310.605469 C 229.132813 309.738281 229.511719 308.851563 229.507813 307.574219 C 229.476563 269.246094 229.476563 230.914063 229.507813 192.582031 C 229.511719 191.308594 229.113281 190.433594 228.222656 189.554688 C 216.273438 177.679688 204.347656 165.78125 192.449219 153.859375 C 191.609375 153.015625 190.777344 152.664063 189.59375 152.671875 C 182.636719 152.722656 175.679688 152.695313 168.722656 152.699219 C 168.191406 152.699219 167.660156 152.746094 166.984375 152.78125 C 167.207031 153.324219 167.355469 153.765625 167.554688 154.179688 C 169.433594 158.035156 170.238281 162.179688 170.753906 166.382813 C 171.03125 168.664063 169.851563 169.792969 167.597656 169.328125 C 166.15625 169.03125 164.785156 168.363281 163.40625 167.800781 C 162.335938 167.367188 161.332031 166.765625 160.25 166.371094 C 155.332031 164.566406 150.398438 162.808594 145.46875 161.035156 C 144.636719 160.734375 143.820313 160.363281 142.964844 160.15625 C 141.582031 159.824219 140.425781 160.347656 139.445313 161.320313 C 138.472656 162.28125 138.863281 163.34375 139.273438 164.359375 C 140.578125 167.625 142.609375 170.296875 145.757813 171.988281 C 147.253906 172.789063 148.78125 173.550781 150.335938 174.242188 C 154.101563 175.910156 157.644531 177.925781 160.648438 180.769531 C 161.382813 181.464844 162.089844 182.25 162.578125 183.125 C 163.484375 184.753906 162.628906 185.945313 160.753906 185.828125 C 160.484375 185.8125 160.191406 185.789063 159.953125 185.679688 C 157.648438 184.601563 155.296875 184.886719 152.945313 185.445313 C 149.5625 186.253906 146.328125 185.863281 143.175781 184.421875 C 141.878906 183.828125 140.53125 183.328125 139.175781 182.890625 C 138.585938 182.699219 137.910156 182.761719 137.308594 182.714844 C 136.777344 183.953125 137.230469 184.816406 137.675781 185.652344 C 138.851563 187.851563 140.457031 189.664063 142.5 191.121094 C 147.054688 194.367188 151.722656 197.421875 156.734375 199.941406 C 164.527344 203.855469 168.496094 210.597656 170.34375 218.820313 C 170.503906 219.53125 170.3125 220.320313 170.265625 221.527344 C 168.789063 220.925781 167.566406 220.71875 166.746094 220.035156 C 164.597656 218.246094 162.183594 217.707031 159.503906 217.875 C 155.089844 218.152344 151.332031 216.757813 148.269531 213.511719 C 147.871094 213.089844 147.207031 212.910156 146.679688 212.625 C 144.632813 216.027344 145.734375 220.753906 148.84375 222.5625 C 149.777344 223.105469 150.824219 223.457031 151.816406 223.90625 C 155.414063 225.53125 159.050781 227.085938 162.59375 228.832031 C 164.160156 229.609375 165.648438 230.652344 166.972656 231.804688 C 169.734375 234.207031 171.183594 237.375 172.03125 241.433594 Z M 95.757813 205.304688 C 93.78125 205.304688 92.03125 205.417969 90.300781 205.269531 C 88.816406 205.140625 87.359375 204.703125 85.886719 204.417969 C 82.757813 203.808594 79.675781 203.613281 76.707031 205.183594 C 76.097656 205.503906 75.308594 205.476563 74.683594 205.59375 C 73.894531 204.425781 74.425781 203.554688 74.8125 202.707031 C 77.011719 197.871094 80.933594 194.742188 85.480469 192.378906 C 90.523438 189.761719 95.242188 186.667969 99.816406 183.328125 C 101.625 182.007813 103.039063 180.332031 103.933594 178.332031 C 104.5 177.070313 104.796875 175.597656 104.839844 174.207031 C 104.902344 172.167969 103.5 171.414063 101.707031 172.335938 C 101.40625 172.488281 101.109375 172.667969 100.835938 172.867188 C 94.964844 177.140625 88.488281 177.3125 81.738281 175.683594 C 81.507813 174.40625 81.484375 174.195313 82.246094 173.335938 C 83.832031 171.546875 85.433594 169.769531 87.660156 168.730469 C 89.453125 167.894531 91.273438 167.113281 93.011719 166.183594 C 94.804688 165.222656 96.640625 164.261719 98.238281 163.023438 C 100.507813 161.269531 101.964844 158.886719 102.511719 156.019531 C 102.679688 155.144531 102.847656 154.238281 101.539063 153.535156 C 100.746094 153.921875 99.679688 154.242188 98.863281 154.878906 C 95.441406 157.53125 91.484375 158.292969 87.316406 158.269531 C 82.019531 158.234375 77.566406 159.871094 74.308594 164.265625 C 73.644531 165.164063 72.835938 166.082031 71.472656 166.101563 C 70.191406 165.113281 70.3125 163.683594 70.476563 162.367188 C 70.835938 159.460938 71.285156 156.5625 71.820313 153.683594 C 73.140625 146.550781 76.871094 141.175781 83.363281 137.710938 C 86.488281 136.046875 89.445313 134.066406 92.433594 132.164063 C 95.582031 130.164063 98.128906 127.492188 100.335938 124.53125 C 101.257813 123.292969 102.03125 121.863281 102.511719 120.402344 C 103.140625 118.5 103.152344 116.527344 101.441406 114.648438 C 100.640625 115.214844 99.890625 115.742188 99.148438 116.277344 C 97.996094 117.117188 96.964844 118.3125 95.679688 118.738281 C 91.734375 120.050781 87.699219 121.105469 83.449219 120.410156 C 80.894531 119.996094 78.421875 120.257813 76.085938 121.441406 C 75.839844 121.566406 75.589844 121.679688 75.335938 121.769531 C 73.550781 122.382813 72.113281 121.296875 72.382813 119.410156 C 72.503906 118.570313 72.875 117.683594 73.378906 117 C 74.140625 115.964844 75.050781 115.019531 76.007813 114.15625 C 80.847656 109.800781 86.300781 106.296875 91.925781 103.078125 C 96.242188 100.609375 100.738281 98.464844 105.046875 95.988281 C 106.480469 95.164063 107.773438 93.914063 108.796875 92.601563 C 110.34375 90.613281 109.386719 88.445313 106.878906 88.140625 C 105.78125 88.007813 104.605469 88.339844 103.492188 88.585938 C 102.171875 88.878906 100.894531 89.53125 99.570313 89.621094 C 97.261719 89.777344 94.933594 89.671875 92.621094 89.570313 C 91.863281 89.535156 91.121094 89.167969 89.996094 88.84375 C 90.585938 87.824219 90.898438 87.003906 91.445313 86.394531 C 93 84.644531 94.863281 83.277344 97.023438 82.328125 C 99.207031 81.371094 101.394531 80.421875 103.554688 79.417969 C 105.476563 78.53125 106.699219 77.035156 107.039063 74.925781 C 107.40625 72.660156 106.378906 71.558594 104.121094 71.730469 C 103.105469 71.808594 102.085938 71.996094 101.070313 71.984375 C 100.15625 71.972656 99.25 71.757813 98.054688 71.589844 C 98.320313 70.585938 98.359375 69.8125 98.71875 69.238281 C 99.292969 68.324219 100.011719 67.476563 100.789063 66.722656 C 103.664063 63.929688 106.925781 61.761719 110.84375 60.671875 C 112.089844 60.324219 113.316406 59.867188 113.65625 58.261719 C 112.875 57.246094 111.746094 57.019531 110.59375 56.898438 C 109.171875 56.746094 107.726563 56.738281 106.328125 56.472656 C 105.667969 56.347656 104.746094 55.882813 104.582031 55.367188 C 104.425781 54.878906 104.945313 53.9375 105.441406 53.519531 C 106.839844 52.335938 108.417969 51.363281 109.855469 50.21875 C 111.71875 48.738281 113.601563 47.265625 115.308594 45.617188 C 116.519531 44.445313 116.363281 43.636719 115.085938 42.519531 C 114.160156 41.714844 113.144531 41.011719 112.222656 40.203125 C 111.570313 39.636719 110.820313 39.0625 111.085938 37.746094 C 111.613281 37.605469 112.230469 37.300781 112.855469 37.296875 C 114.582031 37.285156 115.714844 36.394531 116.371094 34.933594 C 116.980469 33.574219 117.488281 32.152344 117.882813 30.714844 C 118.5 28.480469 118.964844 26.210938 119.535156 23.964844 C 119.722656 23.21875 119.757813 22.285156 121.035156 22.195313 C 121.210938 22.925781 121.382813 23.644531 121.550781 24.363281 C 122.089844 26.6875 122.535156 29.03125 123.183594 31.324219 C 123.8125 33.53125 124.90625 35.339844 127.660156 35.3125 C 128.226563 35.308594 128.804688 35.777344 129.363281 36.023438 C 128.964844 37.851563 127.558594 38.503906 126.589844 39.507813 C 124.914063 41.25 125.261719 43.148438 127.515625 43.992188 C 128.460938 44.34375 129.503906 44.433594 130.507813 44.597656 C 132.433594 44.914063 132.867188 45.851563 131.613281 47.363281 C 130.839844 48.296875 129.851563 49.058594 128.910156 49.839844 C 127.152344 51.296875 126.9375 52.183594 128.390625 53.9375 C 129.425781 55.1875 130.6875 56.257813 131.933594 57.304688 C 133.132813 58.3125 134.511719 59.101563 135.683594 60.136719 C 138.261719 62.417969 138.078125 63.71875 135.089844 65.28125 C 134.789063 65.441406 134.488281 65.605469 134.210938 65.800781 C 133.445313 66.339844 132.515625 66.753906 132.546875 68.1875 C 133.074219 68.484375 133.699219 68.84375 134.324219 69.195313 C 137.695313 71.070313 140.769531 73.320313 142.949219 76.5625 C 144.042969 78.183594 143.53125 79.15625 141.574219 79.246094 C 140.222656 79.304688 138.847656 79.179688 137.5 78.996094 C 135.007813 78.660156 134.472656 80.128906 134.652344 81.835938 C 134.742188 82.6875 135.035156 83.558594 135.425781 84.328125 C 136.105469 85.660156 137.335938 86.410156 138.675781 87.003906 C 141.601563 88.300781 144.597656 89.472656 147.410156 90.988281 C 149.234375 91.96875 150.976563 93.277344 152.414063 94.769531 C 153.910156 96.328125 153.269531 98.144531 151.160156 98.628906 C 149.800781 98.9375 148.332031 98.890625 146.921875 98.816406 C 144.820313 98.703125 142.730469 98.265625 140.632813 98.261719 C 138.828125 98.257813 137.011719 98.625 135.554688 99.796875 C 135.585938 101.222656 136.3125 102.042969 137.285156 102.570313 C 138.714844 103.347656 140.167969 104.175781 141.714844 104.636719 C 146.890625 106.179688 151.464844 108.835938 155.75 112.027344 C 156.804688 112.8125 157.855469 113.105469 159.140625 113.097656 C 166.027344 113.058594 172.917969 113.089844 179.808594 113.078125 C 195.632813 113.054688 211.457031 113.019531 227.28125 112.988281 C 227.945313 112.984375 228.605469 112.929688 229.480469 112.890625 C 229.480469 111.953125 229.480469 111.152344 229.480469 110.351563 C 229.480469 92.960938 229.453125 75.5625 229.527344 58.171875 C 229.535156 56.347656 228.933594 55.144531 227.667969 53.9375 C 220.550781 47.175781 213.5 40.34375 206.421875 33.539063 C 199.640625 27.019531 192.820313 20.535156 186.09375 13.960938 C 185.007813 12.898438 183.9375 12.550781 182.484375 12.550781 C 141.488281 12.578125 100.492188 12.574219 59.496094 12.574219 C 59.222656 12.574219 58.949219 12.597656 58.675781 12.570313 C 57.714844 12.464844 57.035156 12.875 56.34375 13.539063 C 42.207031 27.167969 28.054688 40.78125 13.867188 54.355469 C 12.949219 55.238281 12.546875 56.085938 12.550781 57.355469 C 12.578125 97.605469 12.578125 137.851563 12.546875 178.097656 C 12.546875 179.367188 12.941406 180.246094 13.828125 181.132813 C 25.699219 192.992188 37.550781 204.871094 49.359375 216.792969 C 50.367188 217.804688 51.371094 218.164063 52.769531 218.15625 C 62.25 218.101563 71.734375 218.015625 81.210938 218.183594 C 84.789063 218.246094 88 217.4375 91.269531 216.117188 C 96 214.210938 96.300781 210.089844 95.9375 205.519531 C 95.925781 205.363281 95.683594 205.222656 95.757813 205.304688 Z M 235.886719 119.484375 C 211.996094 119.484375 188.476563 119.484375 164.660156 119.484375 C 165.925781 121.144531 167.070313 122.539063 168.085938 124.027344 C 168.609375 124.796875 169.085938 125.695313 169.25 126.59375 C 169.601563 128.535156 168.035156 129.785156 166.242188 128.980469 C 164.191406 128.058594 162.050781 127.847656 159.871094 127.726563 C 153.035156 127.347656 146.277344 126.621094 140.050781 123.429688 C 139.660156 123.234375 139.15625 123.265625 138.632813 123.179688 C 137.503906 125.199219 138.125 127.007813 139.085938 128.667969 C 141.082031 132.121094 143.5625 135.273438 146.800781 137.585938 C 150.949219 140.546875 155.351563 143.167969 159.699219 145.84375 C 160.328125 146.230469 161.265625 146.214844 162.0625 146.21875 C 172.019531 146.242188 181.980469 146.261719 191.9375 146.203125 C 193.417969 146.195313 194.46875 146.609375 195.523438 147.671875 C 208.464844 160.679688 221.4375 173.652344 234.445313 186.59375 C 235.5 187.640625 235.921875 188.683594 235.917969 190.167969 C 235.878906 230.140625 235.878906 270.109375 235.925781 310.082031 C 235.929688 311.679688 235.394531 312.738281 234.292969 313.792969 C 225.566406 322.132813 216.886719 330.511719 208.1875 338.878906 C 201.703125 345.117188 195.199219 351.339844 188.742188 357.605469 C 187.746094 358.570313 186.71875 358.960938 185.3125 358.960938 C 142.476563 358.921875 99.640625 358.917969 56.800781 358.96875 C 55.214844 358.96875 54.113281 358.449219 53.039063 357.40625 C 47.175781 351.699219 41.289063 346.019531 35.398438 340.34375 C 26.117188 331.402344 16.839844 322.457031 7.527344 313.554688 C 6.515625 312.585938 6.074219 311.609375 6.082031 310.183594 C 6.144531 291.496094 6.144531 272.804688 6.164063 254.117188 C 6.164063 253.449219 6.164063 252.78125 6.164063 251.910156 C 29.804688 251.910156 53.242188 251.910156 76.679688 251.910156 C 76.753906 251.761719 76.828125 251.609375 76.902344 251.460938 C 76.183594 250.84375 75.394531 250.289063 74.765625 249.589844 C 74.152344 248.90625 73.503906 248.140625 73.230469 247.292969 C 72.875 246.195313 73.582031 244.992188 75.074219 244.484375 C 77.316406 243.722656 79.636719 243.136719 81.96875 242.726563 C 86.703125 241.890625 90.800781 239.984375 93.875 236.195313 C 94.429688 235.511719 94.910156 234.746094 95.316406 233.96875 C 96.222656 232.242188 95.808594 230.753906 94.125 229.796875 C 92.546875 228.898438 90.832031 228.726563 89.242188 229.652344 C 84.304688 232.523438 78.976563 233.992188 73.308594 234.300781 C 72.199219 234.359375 71.082031 234.234375 69.59375 234.179688 C 70.460938 230.371094 71.742188 227.257813 74.644531 224.539063 C 73.621094 224.488281 73.042969 224.433594 72.464844 224.433594 C 64.890625 224.425781 57.320313 224.398438 49.75 224.457031 C 48.410156 224.464844 47.472656 224.050781 46.535156 223.109375 C 33.492188 210.011719 20.417969 196.941406 7.324219 183.894531 C 6.496094 183.066406 6.085938 182.261719 6.085938 181.054688 C 6.117188 138.695313 6.113281 96.339844 6.113281 53.980469 C 6.113281 53.640625 6.113281 53.300781 6.113281 52.855469 C 9.71875 49.378906 13.335938 45.871094 16.96875 42.382813 C 25.324219 34.347656 33.683594 26.320313 42.039063 18.289063 C 45.773438 14.699219 49.527344 11.125 53.21875 7.492188 C 54.261719 6.46875 55.355469 6.078125 56.835938 6.078125 C 99.605469 6.117188 142.371094 6.121094 185.140625 6.078125 C 186.710938 6.074219 187.800781 6.566406 188.898438 7.625 C 204.058594 22.257813 219.242188 36.867188 234.449219 51.449219 C 235.460938 52.414063 235.921875 53.394531 235.917969 54.820313 C 235.875 75.621094 235.886719 96.425781 235.886719 117.230469 C 235.886719 117.898438 235.886719 118.5625 235.886719 119.484375 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(60.398865%,10.598755%,11.799622%);fill-opacity:1;" d="M 95.757813 205.304688 C 95.683594 205.222656 95.925781 205.363281 95.9375 205.519531 C 96.300781 210.089844 96 214.210938 91.269531 216.117188 C 88 217.4375 84.789063 218.246094 81.210938 218.183594 C 71.734375 218.015625 62.25 218.101563 52.769531 218.15625 C 51.371094 218.164063 50.367188 217.804688 49.359375 216.792969 C 37.550781 204.871094 25.699219 192.992188 13.828125 181.132813 C 12.941406 180.246094 12.546875 179.367188 12.546875 178.097656 C 12.578125 137.851563 12.578125 97.605469 12.550781 57.355469 C 12.546875 56.085938 12.949219 55.238281 13.867188 54.355469 C 28.054688 40.78125 42.207031 27.167969 56.34375 13.539063 C 57.035156 12.875 57.714844 12.464844 58.675781 12.570313 C 58.949219 12.597656 59.222656 12.574219 59.496094 12.574219 C 100.492188 12.574219 141.488281 12.578125 182.484375 12.550781 C 183.9375 12.550781 185.007813 12.898438 186.09375 13.960938 C 192.820313 20.535156 199.640625 27.019531 206.421875 33.539063 C 213.5 40.34375 220.550781 47.175781 227.667969 53.9375 C 228.933594 55.144531 229.535156 56.347656 229.527344 58.171875 C 229.453125 75.5625 229.480469 92.960938 229.480469 110.351563 C 229.480469 111.152344 229.480469 111.953125 229.480469 112.890625 C 228.605469 112.929688 227.945313 112.984375 227.28125 112.988281 C 211.457031 113.019531 195.632813 113.054688 179.808594 113.078125 C 172.917969 113.089844 166.027344 113.058594 159.140625 113.097656 C 157.855469 113.105469 156.804688 112.8125 155.75 112.027344 C 151.464844 108.835938 146.890625 106.179688 141.714844 104.636719 C 140.167969 104.175781 138.714844 103.347656 137.285156 102.570313 C 136.3125 102.042969 135.585938 101.222656 135.554688 99.796875 C 137.011719 98.625 138.828125 98.257813 140.632813 98.261719 C 142.730469 98.265625 144.820313 98.703125 146.921875 98.816406 C 148.332031 98.890625 149.800781 98.9375 151.160156 98.628906 C 153.269531 98.144531 153.910156 96.328125 152.414063 94.769531 C 150.976563 93.277344 149.234375 91.96875 147.410156 90.988281 C 144.597656 89.472656 141.601563 88.300781 138.675781 87.003906 C 137.335938 86.410156 136.105469 85.660156 135.425781 84.328125 C 135.035156 83.558594 134.742188 82.6875 134.652344 81.835938 C 134.472656 80.128906 135.007813 78.660156 137.5 78.996094 C 138.847656 79.179688 140.222656 79.304688 141.574219 79.246094 C 143.53125 79.15625 144.042969 78.183594 142.949219 76.5625 C 140.769531 73.320313 137.695313 71.070313 134.324219 69.195313 C 133.699219 68.84375 133.074219 68.484375 132.546875 68.1875 C 132.515625 66.753906 133.445313 66.339844 134.210938 65.800781 C 134.488281 65.605469 134.789063 65.441406 135.089844 65.28125 C 138.078125 63.71875 138.261719 62.417969 135.683594 60.136719 C 134.511719 59.101563 133.132813 58.3125 131.933594 57.304688 C 130.6875 56.257813 129.425781 55.1875 128.390625 53.9375 C 126.9375 52.183594 127.152344 51.296875 128.910156 49.839844 C 129.851563 49.058594 130.839844 48.296875 131.613281 47.363281 C 132.867188 45.851563 132.433594 44.914063 130.507813 44.597656 C 129.503906 44.433594 128.460938 44.34375 127.515625 43.992188 C 125.261719 43.148438 124.914063 41.25 126.589844 39.507813 C 127.558594 38.503906 128.964844 37.851563 129.363281 36.023438 C 128.804688 35.777344 128.226563 35.308594 127.660156 35.3125 C 124.90625 35.339844 123.8125 33.53125 123.183594 31.324219 C 122.535156 29.03125 122.089844 26.6875 121.550781 24.363281 C 121.382813 23.644531 121.210938 22.925781 121.035156 22.195313 C 119.757813 22.285156 119.722656 23.21875 119.535156 23.964844 C 118.964844 26.210938 118.5 28.480469 117.882813 30.714844 C 117.488281 32.152344 116.980469 33.574219 116.371094 34.933594 C 115.714844 36.394531 114.582031 37.285156 112.855469 37.296875 C 112.230469 37.300781 111.613281 37.605469 111.085938 37.746094 C 110.820313 39.0625 111.570313 39.636719 112.222656 40.203125 C 113.144531 41.011719 114.160156 41.714844 115.085938 42.519531 C 116.363281 43.636719 116.519531 44.445313 115.308594 45.617188 C 113.601563 47.265625 111.71875 48.738281 109.855469 50.21875 C 108.417969 51.363281 106.839844 52.335938 105.441406 53.519531 C 104.945313 53.9375 104.425781 54.878906 104.582031 55.367188 C 104.746094 55.882813 105.667969 56.347656 106.328125 56.472656 C 107.726563 56.738281 109.171875 56.746094 110.59375 56.898438 C 111.746094 57.019531 112.875 57.246094 113.65625 58.261719 C 113.316406 59.867188 112.089844 60.324219 110.84375 60.671875 C 106.925781 61.761719 103.664063 63.929688 100.789063 66.722656 C 100.011719 67.476563 99.292969 68.324219 98.71875 69.238281 C 98.359375 69.8125 98.320313 70.585938 98.054688 71.589844 C 99.25 71.757813 100.15625 71.972656 101.070313 71.984375 C 102.085938 71.996094 103.105469 71.808594 104.121094 71.730469 C 106.378906 71.558594 107.40625 72.660156 107.039063 74.925781 C 106.699219 77.035156 105.476563 78.53125 103.554688 79.417969 C 101.394531 80.421875 99.207031 81.371094 97.023438 82.328125 C 94.863281 83.277344 93 84.644531 91.445313 86.394531 C 90.898438 87.003906 90.585938 87.824219 89.996094 88.84375 C 91.121094 89.167969 91.863281 89.535156 92.621094 89.570313 C 94.933594 89.671875 97.261719 89.777344 99.570313 89.621094 C 100.894531 89.53125 102.171875 88.878906 103.492188 88.585938 C 104.605469 88.339844 105.78125 88.007813 106.878906 88.140625 C 109.386719 88.445313 110.34375 90.613281 108.796875 92.601563 C 107.773438 93.914063 106.480469 95.164063 105.046875 95.988281 C 100.738281 98.464844 96.242188 100.609375 91.925781 103.078125 C 86.300781 106.296875 80.847656 109.800781 76.007813 114.15625 C 75.050781 115.019531 74.140625 115.964844 73.378906 117 C 72.875 117.683594 72.503906 118.570313 72.382813 119.410156 C 72.113281 121.296875 73.550781 122.382813 75.335938 121.769531 C 75.589844 121.679688 75.839844 121.566406 76.085938 121.441406 C 78.421875 120.257813 80.894531 119.996094 83.449219 120.410156 C 87.699219 121.105469 91.734375 120.050781 95.679688 118.738281 C 96.964844 118.3125 97.996094 117.117188 99.148438 116.277344 C 99.890625 115.742188 100.640625 115.214844 101.441406 114.648438 C 103.152344 116.527344 103.140625 118.5 102.511719 120.402344 C 102.03125 121.863281 101.257813 123.292969 100.335938 124.53125 C 98.128906 127.492188 95.582031 130.164063 92.433594 132.164063 C 89.445313 134.066406 86.488281 136.046875 83.363281 137.710938 C 76.871094 141.175781 73.140625 146.550781 71.820313 153.683594 C 71.285156 156.5625 70.835938 159.460938 70.476563 162.367188 C 70.3125 163.683594 70.191406 165.113281 71.472656 166.101563 C 72.835938 166.082031 73.644531 165.164063 74.308594 164.265625 C 77.566406 159.871094 82.019531 158.234375 87.316406 158.269531 C 91.484375 158.292969 95.441406 157.53125 98.863281 154.878906 C 99.679688 154.242188 100.746094 153.921875 101.539063 153.535156 C 102.847656 154.238281 102.679688 155.144531 102.511719 156.019531 C 101.964844 158.886719 100.507813 161.269531 98.238281 163.023438 C 96.640625 164.261719 94.804688 165.222656 93.011719 166.183594 C 91.273438 167.113281 89.453125 167.894531 87.660156 168.730469 C 85.433594 169.769531 83.832031 171.546875 82.246094 173.335938 C 81.484375 174.195313 81.507813 174.40625 81.738281 175.683594 C 88.488281 177.3125 94.964844 177.140625 100.835938 172.867188 C 101.109375 172.667969 101.40625 172.488281 101.707031 172.335938 C 103.5 171.414063 104.902344 172.167969 104.839844 174.207031 C 104.796875 175.597656 104.5 177.070313 103.933594 178.332031 C 103.039063 180.332031 101.625 182.007813 99.816406 183.328125 C 95.242188 186.667969 90.523438 189.761719 85.480469 192.378906 C 80.933594 194.742188 77.011719 197.871094 74.8125 202.707031 C 74.425781 203.554688 73.894531 204.425781 74.683594 205.59375 C 75.308594 205.476563 76.097656 205.503906 76.707031 205.183594 C 79.675781 203.613281 82.757813 203.808594 85.886719 204.417969 C 87.359375 204.703125 88.816406 205.140625 90.300781 205.269531 C 92.03125 205.417969 93.78125 205.304688 95.757813 205.304688 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(60.398865%,10.598755%,11.799622%);fill-opacity:1;" d="M 172.03125 241.433594 C 171.183594 237.375 169.734375 234.207031 166.972656 231.804688 C 165.648438 230.652344 164.160156 229.609375 162.59375 228.832031 C 159.050781 227.085938 155.414063 225.53125 151.816406 223.90625 C 150.824219 223.457031 149.777344 223.105469 148.84375 222.5625 C 145.734375 220.753906 144.632813 216.027344 146.679688 212.625 C 147.207031 212.910156 147.871094 213.089844 148.269531 213.511719 C 151.332031 216.757813 155.089844 218.152344 159.503906 217.875 C 162.183594 217.707031 164.597656 218.246094 166.746094 220.035156 C 167.566406 220.71875 168.789063 220.925781 170.265625 221.527344 C 170.3125 220.320313 170.503906 219.53125 170.34375 218.820313 C 168.496094 210.597656 164.527344 203.855469 156.734375 199.941406 C 151.722656 197.421875 147.054688 194.367188 142.5 191.121094 C 140.457031 189.664063 138.851563 187.851563 137.675781 185.652344 C 137.230469 184.816406 136.777344 183.953125 137.308594 182.714844 C 137.910156 182.761719 138.585938 182.699219 139.175781 182.890625 C 140.53125 183.328125 141.878906 183.828125 143.175781 184.421875 C 146.328125 185.863281 149.5625 186.253906 152.945313 185.445313 C 155.296875 184.886719 157.648438 184.601563 159.953125 185.679688 C 160.191406 185.789063 160.484375 185.8125 160.753906 185.828125 C 162.628906 185.945313 163.484375 184.753906 162.578125 183.125 C 162.089844 182.25 161.382813 181.464844 160.648438 180.769531 C 157.644531 177.925781 154.101563 175.910156 150.335938 174.242188 C 148.78125 173.550781 147.253906 172.789063 145.757813 171.988281 C 142.609375 170.296875 140.578125 167.625 139.273438 164.359375 C 138.863281 163.34375 138.472656 162.28125 139.445313 161.320313 C 140.425781 160.347656 141.582031 159.824219 142.964844 160.15625 C 143.820313 160.363281 144.636719 160.734375 145.46875 161.035156 C 150.398438 162.808594 155.332031 164.566406 160.25 166.371094 C 161.332031 166.765625 162.335938 167.367188 163.40625 167.800781 C 164.785156 168.363281 166.15625 169.03125 167.597656 169.328125 C 169.851563 169.792969 171.03125 168.664063 170.753906 166.382813 C 170.238281 162.179688 169.433594 158.035156 167.554688 154.179688 C 167.355469 153.765625 167.207031 153.324219 166.984375 152.78125 C 167.660156 152.746094 168.191406 152.699219 168.722656 152.699219 C 175.679688 152.695313 182.636719 152.722656 189.59375 152.671875 C 190.777344 152.664063 191.609375 153.015625 192.449219 153.859375 C 204.347656 165.78125 216.273438 177.679688 228.222656 189.554688 C 229.113281 190.433594 229.511719 191.308594 229.507813 192.582031 C 229.476563 230.914063 229.476563 269.246094 229.507813 307.574219 C 229.511719 308.851563 229.132813 309.738281 228.222656 310.605469 C 218.761719 319.648438 209.332031 328.726563 199.898438 337.800781 C 195.179688 342.335938 190.457031 346.863281 185.765625 351.425781 C 185.039063 352.128906 184.339844 352.5625 183.273438 352.539063 C 179.320313 352.457031 175.359375 352.589844 171.414063 352.402344 C 165.496094 352.117188 160.089844 350.117188 155.121094 346.949219 C 154.160156 346.339844 153.296875 345.511719 152.550781 344.640625 C 149.996094 341.652344 147.066406 339.128906 143.585938 337.296875 C 135.359375 332.960938 131.722656 325.789063 131.015625 316.871094 C 130.78125 313.886719 130.871094 310.875 130.867188 307.878906 C 130.847656 299.554688 130.851563 291.234375 130.867188 282.914063 C 130.871094 281.648438 130.582031 280.113281 132.054688 279.496094 C 133.34375 278.957031 134.363281 279.984375 135.308594 280.730469 C 138.101563 282.945313 141.253906 283.980469 144.816406 283.777344 C 146.585938 283.675781 148.371094 283.726563 150.121094 283.484375 C 153.332031 283.042969 156.441406 283.457031 159.304688 284.800781 C 162.6875 286.386719 165.941406 288.257813 169.171875 290.144531 C 171.757813 291.652344 174.191406 293.425781 176.761719 294.96875 C 177.855469 295.625 179.082031 296.132813 180.316406 296.464844 C 181.867188 296.878906 182.902344 296.148438 183.003906 294.554688 C 183.097656 293.140625 183.144531 291.628906 182.75 290.296875 C 181.433594 285.863281 180.027344 281.445313 178.417969 277.109375 C 177.421875 274.425781 175.296875 272.492188 172.996094 270.851563 C 171.503906 269.78125 169.882813 268.898438 168.34375 267.894531 C 167.550781 267.375 166.710938 266.863281 166.082031 266.179688 C 164.160156 264.085938 164.253906 262.160156 166.152344 260.03125 C 166.914063 259.175781 167.660156 258.253906 168.191406 257.242188 C 169.503906 254.75 168.828125 252.628906 166.1875 251.574219 C 164.3125 250.828125 162.277344 250.390625 160.273438 250.089844 C 155.894531 249.433594 151.964844 247.890625 148.859375 244.667969 C 147.835938 243.601563 146.992188 242.324219 146.234375 241.046875 C 145.417969 239.660156 145.804688 238.265625 147.15625 237.328125 C 148.867188 236.140625 150.722656 235.925781 152.546875 236.996094 C 157.476563 239.898438 162.835938 241.273438 168.496094 241.574219 C 169.546875 241.628906 170.605469 241.496094 172.03125 241.433594 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(60.398865%,10.598755%,11.799622%);fill-opacity:1;" d="M 12.75 258.398438 C 34.238281 258.398438 55.605469 258.398438 76.972656 258.398438 C 77.019531 258.496094 77.0625 258.589844 77.109375 258.6875 C 76.363281 259.082031 75.628906 259.503906 74.863281 259.871094 C 71.144531 261.648438 67.679688 263.773438 65.003906 266.992188 C 62.476563 270.03125 58.757813 281.015625 58.914063 284.972656 C 58.933594 285.378906 58.933594 285.800781 59.046875 286.1875 C 59.351563 287.253906 59.738281 288.289063 60.941406 288.664063 C 62.191406 289.050781 62.996094 288.320313 63.78125 287.511719 C 69.570313 281.523438 76.71875 277.800781 84.578125 275.441406 C 86.878906 274.75 89.441406 274.96875 91.863281 274.640625 C 93.882813 274.367188 95.902344 274.007813 97.871094 273.5 C 100.289063 272.878906 102.339844 271.5625 104.097656 269.753906 C 105.183594 268.632813 106.375 267.59375 107.609375 266.632813 C 108.386719 266.027344 109.265625 265.410156 110.640625 265.789063 C 110.722656 266.390625 110.882813 267.03125 110.878906 267.667969 C 110.859375 280.21875 110.882813 292.765625 110.75 305.3125 C 110.707031 309.253906 110.398438 313.207031 109.335938 317.054688 C 108.589844 319.746094 107.410156 322.117188 105.199219 323.9375 C 103.621094 325.238281 102.167969 326.683594 100.652344 328.054688 C 97.441406 330.957031 94.738281 334.253906 92.527344 337.984375 C 90.582031 341.277344 88.347656 344.371094 85.453125 346.933594 C 81.402344 350.507813 76.671875 352.347656 71.28125 352.417969 C 67.121094 352.472656 62.960938 352.398438 58.796875 352.449219 C 57.757813 352.464844 57.03125 352.128906 56.285156 351.40625 C 47.375 342.777344 38.429688 334.175781 29.488281 325.574219 C 24.476563 320.757813 19.472656 315.925781 14.410156 311.164063 C 13.140625 309.972656 12.515625 308.765625 12.527344 306.933594 C 12.636719 291.386719 12.632813 275.835938 12.667969 260.285156 C 12.667969 259.6875 12.71875 259.09375 12.75 258.398438 "/>
</g>
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Torch Choice
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tutorial for Easy Data Management and Stata Users
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Torch Choice" class="md-nav__button md-logo" aria-label="Torch Choice" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="241.9pt" height="365pt" viewBox="0 0 241.9 365" version="1.1">
<defs>
<clipPath id="clip1">
  <path d="M 0 0 L 241.898438 0 L 241.898438 365 L 0 365 Z M 0 0 "/>
</clipPath>
</defs>
<g id="surface1">
<g clip-path="url(#clip1)" clip-rule="nonzero">
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(60.398865%,10.598755%,11.799622%);fill-opacity:1;" d="M 235.886719 119.484375 C 235.886719 118.5625 235.886719 117.898438 235.886719 117.230469 C 235.886719 96.425781 235.875 75.621094 235.917969 54.820313 C 235.921875 53.394531 235.460938 52.414063 234.449219 51.449219 C 219.242188 36.867188 204.058594 22.257813 188.898438 7.625 C 187.800781 6.566406 186.710938 6.074219 185.140625 6.078125 C 142.371094 6.121094 99.605469 6.117188 56.835938 6.078125 C 55.355469 6.078125 54.261719 6.46875 53.21875 7.492188 C 49.527344 11.125 45.773438 14.699219 42.039063 18.289063 C 33.683594 26.320313 25.324219 34.347656 16.96875 42.382813 C 13.335938 45.871094 9.71875 49.378906 6.113281 52.855469 C 6.113281 53.300781 6.113281 53.640625 6.113281 53.980469 C 6.113281 96.339844 6.117188 138.695313 6.085938 181.054688 C 6.085938 182.261719 6.496094 183.066406 7.324219 183.894531 C 20.417969 196.941406 33.492188 210.011719 46.535156 223.109375 C 47.472656 224.050781 48.410156 224.464844 49.75 224.457031 C 57.320313 224.398438 64.890625 224.425781 72.464844 224.433594 C 73.042969 224.433594 73.621094 224.488281 74.644531 224.539063 C 71.742188 227.257813 70.460938 230.371094 69.59375 234.179688 C 71.082031 234.234375 72.199219 234.359375 73.308594 234.300781 C 78.976563 233.992188 84.304688 232.523438 89.242188 229.652344 C 90.832031 228.726563 92.546875 228.898438 94.125 229.796875 C 95.808594 230.753906 96.222656 232.242188 95.316406 233.96875 C 94.910156 234.746094 94.429688 235.511719 93.875 236.195313 C 90.800781 239.984375 86.703125 241.890625 81.96875 242.726563 C 79.636719 243.136719 77.316406 243.722656 75.074219 244.484375 C 73.582031 244.992188 72.875 246.195313 73.230469 247.292969 C 73.503906 248.140625 74.152344 248.90625 74.765625 249.589844 C 75.394531 250.289063 76.183594 250.84375 76.902344 251.460938 C 76.828125 251.609375 76.753906 251.761719 76.679688 251.910156 C 53.242188 251.910156 29.804688 251.910156 6.164063 251.910156 C 6.164063 252.78125 6.164063 253.449219 6.164063 254.117188 C 6.144531 272.804688 6.144531 291.496094 6.082031 310.183594 C 6.074219 311.609375 6.515625 312.585938 7.527344 313.554688 C 16.839844 322.457031 26.117188 331.402344 35.398438 340.34375 C 41.289063 346.019531 47.175781 351.699219 53.039063 357.40625 C 54.113281 358.449219 55.214844 358.96875 56.800781 358.96875 C 99.640625 358.917969 142.476563 358.921875 185.3125 358.960938 C 186.71875 358.960938 187.746094 358.570313 188.742188 357.605469 C 195.199219 351.339844 201.703125 345.117188 208.1875 338.878906 C 216.886719 330.511719 225.566406 322.132813 234.292969 313.792969 C 235.394531 312.738281 235.929688 311.679688 235.925781 310.082031 C 235.878906 270.109375 235.878906 230.140625 235.917969 190.167969 C 235.921875 188.683594 235.5 187.640625 234.445313 186.59375 C 221.4375 173.652344 208.464844 160.679688 195.523438 147.671875 C 194.46875 146.609375 193.417969 146.195313 191.9375 146.203125 C 181.980469 146.261719 172.019531 146.242188 162.0625 146.21875 C 161.265625 146.214844 160.328125 146.230469 159.699219 145.84375 C 155.351563 143.167969 150.949219 140.546875 146.800781 137.585938 C 143.5625 135.273438 141.082031 132.121094 139.085938 128.667969 C 138.125 127.007813 137.503906 125.199219 138.632813 123.179688 C 139.15625 123.265625 139.660156 123.234375 140.050781 123.429688 C 146.277344 126.621094 153.035156 127.347656 159.871094 127.726563 C 162.050781 127.847656 164.191406 128.058594 166.242188 128.980469 C 168.035156 129.785156 169.601563 128.535156 169.25 126.59375 C 169.085938 125.695313 168.609375 124.796875 168.085938 124.027344 C 167.070313 122.539063 165.925781 121.144531 164.660156 119.484375 C 188.476563 119.484375 211.996094 119.484375 235.886719 119.484375 Z M 0 315.160156 C 0 291.964844 0 268.773438 0 245.578125 C 0.609375 245.621094 1.21875 245.703125 1.828125 245.707031 C 23.648438 245.710938 45.472656 245.710938 67.296875 245.707031 C 67.894531 245.707031 68.496094 245.648438 69.097656 245.617188 C 69.898438 243.046875 71.621094 241.488281 73.90625 240.480469 C 74.777344 240.097656 75.699219 239.824219 76.550781 239.402344 C 76.941406 239.207031 77.21875 238.773438 77.542969 238.449219 C 77.46875 238.320313 77.394531 238.191406 77.320313 238.058594 C 76.046875 238.160156 74.773438 238.320313 73.5 238.347656 C 72.214844 238.371094 70.894531 238.429688 69.648438 238.179688 C 66.917969 237.628906 65.417969 235.339844 65.773438 232.585938 C 65.847656 231.992188 65.910156 231.398438 66.003906 230.550781 C 65.113281 230.550781 64.382813 230.550781 63.648438 230.550781 C 58.261719 230.550781 52.875 230.503906 47.488281 230.578125 C 46.007813 230.601563 44.960938 230.179688 43.90625 229.117188 C 29.859375 215.003906 15.769531 200.929688 1.679688 186.855469 C 1.160156 186.335938 0.5625 185.890625 0 185.410156 C 0 140.253906 0 95.09375 0 49.933594 C 0.332031 49.714844 0.710938 49.539063 0.992188 49.265625 C 4.589844 45.828125 8.171875 42.375 11.757813 38.929688 C 22.8125 28.300781 33.875 17.683594 44.917969 7.042969 C 47.3125 4.738281 49.628906 2.351563 51.980469 0 C 97.957031 0 143.9375 0 189.914063 0 C 190.371094 0.496094 190.804688 1.023438 191.292969 1.492188 C 195.417969 5.460938 199.558594 9.414063 203.6875 13.382813 C 211.546875 20.941406 219.402344 28.507813 227.257813 36.074219 C 232.113281 40.753906 236.964844 45.441406 241.703125 50.015625 C 241.703125 75.300781 241.703125 100.425781 241.703125 125.695313 C 218.851563 125.695313 196.160156 125.695313 173.40625 125.695313 C 173.40625 126.246094 173.421875 126.648438 173.402344 127.050781 C 173.167969 131.855469 169.175781 134.410156 164.660156 132.78125 C 163.15625 132.238281 161.507813 132.0625 159.910156 131.832031 C 158.632813 131.648438 157.320313 131.703125 156.039063 131.535156 C 152.410156 131.058594 148.785156 130.523438 145.085938 130.003906 C 145.410156 130.421875 145.71875 130.84375 146.050781 131.246094 C 148.84375 134.617188 152.519531 136.839844 156.195313 139.074219 C 157.402344 139.808594 158.613281 140.144531 160.042969 140.136719 C 171.5 140.09375 182.957031 140.140625 194.414063 140.078125 C 195.976563 140.070313 197.0625 140.550781 198.15625 141.648438 C 212.15625 155.714844 226.191406 169.75 240.261719 183.746094 C 241.410156 184.890625 241.902344 186.011719 241.902344 187.652344 C 241.855469 229.324219 241.867188 270.992188 241.867188 312.664063 C 241.867188 313.410156 241.867188 314.15625 241.867188 314.941406 C 224.503906 331.652344 207.171875 348.335938 189.855469 365 C 143.90625 365 98.019531 365 52.15625 365 C 49.609375 362.539063 47.113281 360.121094 44.609375 357.707031 C 30.621094 344.226563 16.636719 330.742188 2.636719 317.273438 C 1.828125 316.496094 0.882813 315.859375 0 315.160156 "/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 12.75 258.398438 C 12.71875 259.09375 12.667969 259.6875 12.667969 260.285156 C 12.632813 275.835938 12.636719 291.386719 12.527344 306.933594 C 12.515625 308.765625 13.140625 309.972656 14.410156 311.164063 C 19.472656 315.925781 24.476563 320.757813 29.488281 325.574219 C 38.429688 334.175781 47.375 342.777344 56.285156 351.40625 C 57.03125 352.128906 57.757813 352.464844 58.796875 352.449219 C 62.960938 352.398438 67.121094 352.472656 71.28125 352.417969 C 76.671875 352.347656 81.402344 350.507813 85.453125 346.933594 C 88.347656 344.371094 90.582031 341.277344 92.527344 337.984375 C 94.738281 334.253906 97.441406 330.957031 100.652344 328.054688 C 102.167969 326.683594 103.621094 325.238281 105.199219 323.9375 C 107.410156 322.117188 108.589844 319.746094 109.335938 317.054688 C 110.398438 313.207031 110.707031 309.253906 110.75 305.3125 C 110.882813 292.765625 110.859375 280.21875 110.878906 267.667969 C 110.882813 267.03125 110.722656 266.390625 110.640625 265.789063 C 109.265625 265.410156 108.386719 266.027344 107.609375 266.632813 C 106.375 267.59375 105.183594 268.632813 104.097656 269.753906 C 102.339844 271.5625 100.289063 272.878906 97.871094 273.5 C 95.902344 274.007813 93.882813 274.367188 91.863281 274.640625 C 89.441406 274.96875 86.878906 274.75 84.578125 275.441406 C 76.71875 277.800781 69.570313 281.523438 63.78125 287.511719 C 62.996094 288.320313 62.191406 289.050781 60.941406 288.664063 C 59.738281 288.289063 59.351563 287.253906 59.046875 286.1875 C 58.933594 285.800781 58.933594 285.378906 58.914063 284.972656 C 58.757813 281.015625 62.476563 270.03125 65.003906 266.992188 C 67.679688 263.773438 71.144531 261.648438 74.863281 259.871094 C 75.628906 259.503906 76.363281 259.082031 77.109375 258.6875 C 77.0625 258.589844 77.019531 258.496094 76.972656 258.398438 C 55.605469 258.398438 34.238281 258.398438 12.75 258.398438 Z M 172.03125 241.433594 C 170.605469 241.496094 169.546875 241.628906 168.496094 241.574219 C 162.835938 241.273438 157.476563 239.898438 152.546875 236.996094 C 150.722656 235.925781 148.867188 236.140625 147.15625 237.328125 C 145.804688 238.265625 145.417969 239.660156 146.234375 241.046875 C 146.992188 242.324219 147.835938 243.601563 148.859375 244.667969 C 151.964844 247.890625 155.894531 249.433594 160.273438 250.089844 C 162.277344 250.390625 164.3125 250.828125 166.1875 251.574219 C 168.828125 252.628906 169.503906 254.75 168.191406 257.242188 C 167.660156 258.253906 166.914063 259.175781 166.152344 260.03125 C 164.253906 262.160156 164.160156 264.085938 166.082031 266.179688 C 166.710938 266.863281 167.550781 267.375 168.34375 267.894531 C 169.882813 268.898438 171.503906 269.78125 172.996094 270.851563 C 175.296875 272.492188 177.421875 274.425781 178.417969 277.109375 C 180.027344 281.445313 181.433594 285.863281 182.75 290.296875 C 183.144531 291.628906 183.097656 293.140625 183.003906 294.554688 C 182.902344 296.148438 181.867188 296.878906 180.316406 296.464844 C 179.082031 296.132813 177.855469 295.625 176.761719 294.96875 C 174.191406 293.425781 171.757813 291.652344 169.171875 290.144531 C 165.941406 288.257813 162.6875 286.386719 159.304688 284.800781 C 156.441406 283.457031 153.332031 283.042969 150.121094 283.484375 C 148.371094 283.726563 146.585938 283.675781 144.816406 283.777344 C 141.253906 283.980469 138.101563 282.945313 135.308594 280.730469 C 134.363281 279.984375 133.34375 278.957031 132.054688 279.496094 C 130.582031 280.113281 130.871094 281.648438 130.867188 282.914063 C 130.851563 291.234375 130.847656 299.554688 130.867188 307.878906 C 130.871094 310.875 130.78125 313.886719 131.015625 316.871094 C 131.722656 325.789063 135.359375 332.960938 143.585938 337.296875 C 147.066406 339.128906 149.996094 341.652344 152.550781 344.640625 C 153.296875 345.511719 154.160156 346.339844 155.121094 346.949219 C 160.089844 350.117188 165.496094 352.117188 171.414063 352.402344 C 175.359375 352.589844 179.320313 352.457031 183.273438 352.539063 C 184.339844 352.5625 185.039063 352.128906 185.765625 351.425781 C 190.457031 346.863281 195.179688 342.335938 199.898438 337.800781 C 209.332031 328.726563 218.761719 319.648438 228.222656 310.605469 C 229.132813 309.738281 229.511719 308.851563 229.507813 307.574219 C 229.476563 269.246094 229.476563 230.914063 229.507813 192.582031 C 229.511719 191.308594 229.113281 190.433594 228.222656 189.554688 C 216.273438 177.679688 204.347656 165.78125 192.449219 153.859375 C 191.609375 153.015625 190.777344 152.664063 189.59375 152.671875 C 182.636719 152.722656 175.679688 152.695313 168.722656 152.699219 C 168.191406 152.699219 167.660156 152.746094 166.984375 152.78125 C 167.207031 153.324219 167.355469 153.765625 167.554688 154.179688 C 169.433594 158.035156 170.238281 162.179688 170.753906 166.382813 C 171.03125 168.664063 169.851563 169.792969 167.597656 169.328125 C 166.15625 169.03125 164.785156 168.363281 163.40625 167.800781 C 162.335938 167.367188 161.332031 166.765625 160.25 166.371094 C 155.332031 164.566406 150.398438 162.808594 145.46875 161.035156 C 144.636719 160.734375 143.820313 160.363281 142.964844 160.15625 C 141.582031 159.824219 140.425781 160.347656 139.445313 161.320313 C 138.472656 162.28125 138.863281 163.34375 139.273438 164.359375 C 140.578125 167.625 142.609375 170.296875 145.757813 171.988281 C 147.253906 172.789063 148.78125 173.550781 150.335938 174.242188 C 154.101563 175.910156 157.644531 177.925781 160.648438 180.769531 C 161.382813 181.464844 162.089844 182.25 162.578125 183.125 C 163.484375 184.753906 162.628906 185.945313 160.753906 185.828125 C 160.484375 185.8125 160.191406 185.789063 159.953125 185.679688 C 157.648438 184.601563 155.296875 184.886719 152.945313 185.445313 C 149.5625 186.253906 146.328125 185.863281 143.175781 184.421875 C 141.878906 183.828125 140.53125 183.328125 139.175781 182.890625 C 138.585938 182.699219 137.910156 182.761719 137.308594 182.714844 C 136.777344 183.953125 137.230469 184.816406 137.675781 185.652344 C 138.851563 187.851563 140.457031 189.664063 142.5 191.121094 C 147.054688 194.367188 151.722656 197.421875 156.734375 199.941406 C 164.527344 203.855469 168.496094 210.597656 170.34375 218.820313 C 170.503906 219.53125 170.3125 220.320313 170.265625 221.527344 C 168.789063 220.925781 167.566406 220.71875 166.746094 220.035156 C 164.597656 218.246094 162.183594 217.707031 159.503906 217.875 C 155.089844 218.152344 151.332031 216.757813 148.269531 213.511719 C 147.871094 213.089844 147.207031 212.910156 146.679688 212.625 C 144.632813 216.027344 145.734375 220.753906 148.84375 222.5625 C 149.777344 223.105469 150.824219 223.457031 151.816406 223.90625 C 155.414063 225.53125 159.050781 227.085938 162.59375 228.832031 C 164.160156 229.609375 165.648438 230.652344 166.972656 231.804688 C 169.734375 234.207031 171.183594 237.375 172.03125 241.433594 Z M 95.757813 205.304688 C 93.78125 205.304688 92.03125 205.417969 90.300781 205.269531 C 88.816406 205.140625 87.359375 204.703125 85.886719 204.417969 C 82.757813 203.808594 79.675781 203.613281 76.707031 205.183594 C 76.097656 205.503906 75.308594 205.476563 74.683594 205.59375 C 73.894531 204.425781 74.425781 203.554688 74.8125 202.707031 C 77.011719 197.871094 80.933594 194.742188 85.480469 192.378906 C 90.523438 189.761719 95.242188 186.667969 99.816406 183.328125 C 101.625 182.007813 103.039063 180.332031 103.933594 178.332031 C 104.5 177.070313 104.796875 175.597656 104.839844 174.207031 C 104.902344 172.167969 103.5 171.414063 101.707031 172.335938 C 101.40625 172.488281 101.109375 172.667969 100.835938 172.867188 C 94.964844 177.140625 88.488281 177.3125 81.738281 175.683594 C 81.507813 174.40625 81.484375 174.195313 82.246094 173.335938 C 83.832031 171.546875 85.433594 169.769531 87.660156 168.730469 C 89.453125 167.894531 91.273438 167.113281 93.011719 166.183594 C 94.804688 165.222656 96.640625 164.261719 98.238281 163.023438 C 100.507813 161.269531 101.964844 158.886719 102.511719 156.019531 C 102.679688 155.144531 102.847656 154.238281 101.539063 153.535156 C 100.746094 153.921875 99.679688 154.242188 98.863281 154.878906 C 95.441406 157.53125 91.484375 158.292969 87.316406 158.269531 C 82.019531 158.234375 77.566406 159.871094 74.308594 164.265625 C 73.644531 165.164063 72.835938 166.082031 71.472656 166.101563 C 70.191406 165.113281 70.3125 163.683594 70.476563 162.367188 C 70.835938 159.460938 71.285156 156.5625 71.820313 153.683594 C 73.140625 146.550781 76.871094 141.175781 83.363281 137.710938 C 86.488281 136.046875 89.445313 134.066406 92.433594 132.164063 C 95.582031 130.164063 98.128906 127.492188 100.335938 124.53125 C 101.257813 123.292969 102.03125 121.863281 102.511719 120.402344 C 103.140625 118.5 103.152344 116.527344 101.441406 114.648438 C 100.640625 115.214844 99.890625 115.742188 99.148438 116.277344 C 97.996094 117.117188 96.964844 118.3125 95.679688 118.738281 C 91.734375 120.050781 87.699219 121.105469 83.449219 120.410156 C 80.894531 119.996094 78.421875 120.257813 76.085938 121.441406 C 75.839844 121.566406 75.589844 121.679688 75.335938 121.769531 C 73.550781 122.382813 72.113281 121.296875 72.382813 119.410156 C 72.503906 118.570313 72.875 117.683594 73.378906 117 C 74.140625 115.964844 75.050781 115.019531 76.007813 114.15625 C 80.847656 109.800781 86.300781 106.296875 91.925781 103.078125 C 96.242188 100.609375 100.738281 98.464844 105.046875 95.988281 C 106.480469 95.164063 107.773438 93.914063 108.796875 92.601563 C 110.34375 90.613281 109.386719 88.445313 106.878906 88.140625 C 105.78125 88.007813 104.605469 88.339844 103.492188 88.585938 C 102.171875 88.878906 100.894531 89.53125 99.570313 89.621094 C 97.261719 89.777344 94.933594 89.671875 92.621094 89.570313 C 91.863281 89.535156 91.121094 89.167969 89.996094 88.84375 C 90.585938 87.824219 90.898438 87.003906 91.445313 86.394531 C 93 84.644531 94.863281 83.277344 97.023438 82.328125 C 99.207031 81.371094 101.394531 80.421875 103.554688 79.417969 C 105.476563 78.53125 106.699219 77.035156 107.039063 74.925781 C 107.40625 72.660156 106.378906 71.558594 104.121094 71.730469 C 103.105469 71.808594 102.085938 71.996094 101.070313 71.984375 C 100.15625 71.972656 99.25 71.757813 98.054688 71.589844 C 98.320313 70.585938 98.359375 69.8125 98.71875 69.238281 C 99.292969 68.324219 100.011719 67.476563 100.789063 66.722656 C 103.664063 63.929688 106.925781 61.761719 110.84375 60.671875 C 112.089844 60.324219 113.316406 59.867188 113.65625 58.261719 C 112.875 57.246094 111.746094 57.019531 110.59375 56.898438 C 109.171875 56.746094 107.726563 56.738281 106.328125 56.472656 C 105.667969 56.347656 104.746094 55.882813 104.582031 55.367188 C 104.425781 54.878906 104.945313 53.9375 105.441406 53.519531 C 106.839844 52.335938 108.417969 51.363281 109.855469 50.21875 C 111.71875 48.738281 113.601563 47.265625 115.308594 45.617188 C 116.519531 44.445313 116.363281 43.636719 115.085938 42.519531 C 114.160156 41.714844 113.144531 41.011719 112.222656 40.203125 C 111.570313 39.636719 110.820313 39.0625 111.085938 37.746094 C 111.613281 37.605469 112.230469 37.300781 112.855469 37.296875 C 114.582031 37.285156 115.714844 36.394531 116.371094 34.933594 C 116.980469 33.574219 117.488281 32.152344 117.882813 30.714844 C 118.5 28.480469 118.964844 26.210938 119.535156 23.964844 C 119.722656 23.21875 119.757813 22.285156 121.035156 22.195313 C 121.210938 22.925781 121.382813 23.644531 121.550781 24.363281 C 122.089844 26.6875 122.535156 29.03125 123.183594 31.324219 C 123.8125 33.53125 124.90625 35.339844 127.660156 35.3125 C 128.226563 35.308594 128.804688 35.777344 129.363281 36.023438 C 128.964844 37.851563 127.558594 38.503906 126.589844 39.507813 C 124.914063 41.25 125.261719 43.148438 127.515625 43.992188 C 128.460938 44.34375 129.503906 44.433594 130.507813 44.597656 C 132.433594 44.914063 132.867188 45.851563 131.613281 47.363281 C 130.839844 48.296875 129.851563 49.058594 128.910156 49.839844 C 127.152344 51.296875 126.9375 52.183594 128.390625 53.9375 C 129.425781 55.1875 130.6875 56.257813 131.933594 57.304688 C 133.132813 58.3125 134.511719 59.101563 135.683594 60.136719 C 138.261719 62.417969 138.078125 63.71875 135.089844 65.28125 C 134.789063 65.441406 134.488281 65.605469 134.210938 65.800781 C 133.445313 66.339844 132.515625 66.753906 132.546875 68.1875 C 133.074219 68.484375 133.699219 68.84375 134.324219 69.195313 C 137.695313 71.070313 140.769531 73.320313 142.949219 76.5625 C 144.042969 78.183594 143.53125 79.15625 141.574219 79.246094 C 140.222656 79.304688 138.847656 79.179688 137.5 78.996094 C 135.007813 78.660156 134.472656 80.128906 134.652344 81.835938 C 134.742188 82.6875 135.035156 83.558594 135.425781 84.328125 C 136.105469 85.660156 137.335938 86.410156 138.675781 87.003906 C 141.601563 88.300781 144.597656 89.472656 147.410156 90.988281 C 149.234375 91.96875 150.976563 93.277344 152.414063 94.769531 C 153.910156 96.328125 153.269531 98.144531 151.160156 98.628906 C 149.800781 98.9375 148.332031 98.890625 146.921875 98.816406 C 144.820313 98.703125 142.730469 98.265625 140.632813 98.261719 C 138.828125 98.257813 137.011719 98.625 135.554688 99.796875 C 135.585938 101.222656 136.3125 102.042969 137.285156 102.570313 C 138.714844 103.347656 140.167969 104.175781 141.714844 104.636719 C 146.890625 106.179688 151.464844 108.835938 155.75 112.027344 C 156.804688 112.8125 157.855469 113.105469 159.140625 113.097656 C 166.027344 113.058594 172.917969 113.089844 179.808594 113.078125 C 195.632813 113.054688 211.457031 113.019531 227.28125 112.988281 C 227.945313 112.984375 228.605469 112.929688 229.480469 112.890625 C 229.480469 111.953125 229.480469 111.152344 229.480469 110.351563 C 229.480469 92.960938 229.453125 75.5625 229.527344 58.171875 C 229.535156 56.347656 228.933594 55.144531 227.667969 53.9375 C 220.550781 47.175781 213.5 40.34375 206.421875 33.539063 C 199.640625 27.019531 192.820313 20.535156 186.09375 13.960938 C 185.007813 12.898438 183.9375 12.550781 182.484375 12.550781 C 141.488281 12.578125 100.492188 12.574219 59.496094 12.574219 C 59.222656 12.574219 58.949219 12.597656 58.675781 12.570313 C 57.714844 12.464844 57.035156 12.875 56.34375 13.539063 C 42.207031 27.167969 28.054688 40.78125 13.867188 54.355469 C 12.949219 55.238281 12.546875 56.085938 12.550781 57.355469 C 12.578125 97.605469 12.578125 137.851563 12.546875 178.097656 C 12.546875 179.367188 12.941406 180.246094 13.828125 181.132813 C 25.699219 192.992188 37.550781 204.871094 49.359375 216.792969 C 50.367188 217.804688 51.371094 218.164063 52.769531 218.15625 C 62.25 218.101563 71.734375 218.015625 81.210938 218.183594 C 84.789063 218.246094 88 217.4375 91.269531 216.117188 C 96 214.210938 96.300781 210.089844 95.9375 205.519531 C 95.925781 205.363281 95.683594 205.222656 95.757813 205.304688 Z M 235.886719 119.484375 C 211.996094 119.484375 188.476563 119.484375 164.660156 119.484375 C 165.925781 121.144531 167.070313 122.539063 168.085938 124.027344 C 168.609375 124.796875 169.085938 125.695313 169.25 126.59375 C 169.601563 128.535156 168.035156 129.785156 166.242188 128.980469 C 164.191406 128.058594 162.050781 127.847656 159.871094 127.726563 C 153.035156 127.347656 146.277344 126.621094 140.050781 123.429688 C 139.660156 123.234375 139.15625 123.265625 138.632813 123.179688 C 137.503906 125.199219 138.125 127.007813 139.085938 128.667969 C 141.082031 132.121094 143.5625 135.273438 146.800781 137.585938 C 150.949219 140.546875 155.351563 143.167969 159.699219 145.84375 C 160.328125 146.230469 161.265625 146.214844 162.0625 146.21875 C 172.019531 146.242188 181.980469 146.261719 191.9375 146.203125 C 193.417969 146.195313 194.46875 146.609375 195.523438 147.671875 C 208.464844 160.679688 221.4375 173.652344 234.445313 186.59375 C 235.5 187.640625 235.921875 188.683594 235.917969 190.167969 C 235.878906 230.140625 235.878906 270.109375 235.925781 310.082031 C 235.929688 311.679688 235.394531 312.738281 234.292969 313.792969 C 225.566406 322.132813 216.886719 330.511719 208.1875 338.878906 C 201.703125 345.117188 195.199219 351.339844 188.742188 357.605469 C 187.746094 358.570313 186.71875 358.960938 185.3125 358.960938 C 142.476563 358.921875 99.640625 358.917969 56.800781 358.96875 C 55.214844 358.96875 54.113281 358.449219 53.039063 357.40625 C 47.175781 351.699219 41.289063 346.019531 35.398438 340.34375 C 26.117188 331.402344 16.839844 322.457031 7.527344 313.554688 C 6.515625 312.585938 6.074219 311.609375 6.082031 310.183594 C 6.144531 291.496094 6.144531 272.804688 6.164063 254.117188 C 6.164063 253.449219 6.164063 252.78125 6.164063 251.910156 C 29.804688 251.910156 53.242188 251.910156 76.679688 251.910156 C 76.753906 251.761719 76.828125 251.609375 76.902344 251.460938 C 76.183594 250.84375 75.394531 250.289063 74.765625 249.589844 C 74.152344 248.90625 73.503906 248.140625 73.230469 247.292969 C 72.875 246.195313 73.582031 244.992188 75.074219 244.484375 C 77.316406 243.722656 79.636719 243.136719 81.96875 242.726563 C 86.703125 241.890625 90.800781 239.984375 93.875 236.195313 C 94.429688 235.511719 94.910156 234.746094 95.316406 233.96875 C 96.222656 232.242188 95.808594 230.753906 94.125 229.796875 C 92.546875 228.898438 90.832031 228.726563 89.242188 229.652344 C 84.304688 232.523438 78.976563 233.992188 73.308594 234.300781 C 72.199219 234.359375 71.082031 234.234375 69.59375 234.179688 C 70.460938 230.371094 71.742188 227.257813 74.644531 224.539063 C 73.621094 224.488281 73.042969 224.433594 72.464844 224.433594 C 64.890625 224.425781 57.320313 224.398438 49.75 224.457031 C 48.410156 224.464844 47.472656 224.050781 46.535156 223.109375 C 33.492188 210.011719 20.417969 196.941406 7.324219 183.894531 C 6.496094 183.066406 6.085938 182.261719 6.085938 181.054688 C 6.117188 138.695313 6.113281 96.339844 6.113281 53.980469 C 6.113281 53.640625 6.113281 53.300781 6.113281 52.855469 C 9.71875 49.378906 13.335938 45.871094 16.96875 42.382813 C 25.324219 34.347656 33.683594 26.320313 42.039063 18.289063 C 45.773438 14.699219 49.527344 11.125 53.21875 7.492188 C 54.261719 6.46875 55.355469 6.078125 56.835938 6.078125 C 99.605469 6.117188 142.371094 6.121094 185.140625 6.078125 C 186.710938 6.074219 187.800781 6.566406 188.898438 7.625 C 204.058594 22.257813 219.242188 36.867188 234.449219 51.449219 C 235.460938 52.414063 235.921875 53.394531 235.917969 54.820313 C 235.875 75.621094 235.886719 96.425781 235.886719 117.230469 C 235.886719 117.898438 235.886719 118.5625 235.886719 119.484375 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(60.398865%,10.598755%,11.799622%);fill-opacity:1;" d="M 95.757813 205.304688 C 95.683594 205.222656 95.925781 205.363281 95.9375 205.519531 C 96.300781 210.089844 96 214.210938 91.269531 216.117188 C 88 217.4375 84.789063 218.246094 81.210938 218.183594 C 71.734375 218.015625 62.25 218.101563 52.769531 218.15625 C 51.371094 218.164063 50.367188 217.804688 49.359375 216.792969 C 37.550781 204.871094 25.699219 192.992188 13.828125 181.132813 C 12.941406 180.246094 12.546875 179.367188 12.546875 178.097656 C 12.578125 137.851563 12.578125 97.605469 12.550781 57.355469 C 12.546875 56.085938 12.949219 55.238281 13.867188 54.355469 C 28.054688 40.78125 42.207031 27.167969 56.34375 13.539063 C 57.035156 12.875 57.714844 12.464844 58.675781 12.570313 C 58.949219 12.597656 59.222656 12.574219 59.496094 12.574219 C 100.492188 12.574219 141.488281 12.578125 182.484375 12.550781 C 183.9375 12.550781 185.007813 12.898438 186.09375 13.960938 C 192.820313 20.535156 199.640625 27.019531 206.421875 33.539063 C 213.5 40.34375 220.550781 47.175781 227.667969 53.9375 C 228.933594 55.144531 229.535156 56.347656 229.527344 58.171875 C 229.453125 75.5625 229.480469 92.960938 229.480469 110.351563 C 229.480469 111.152344 229.480469 111.953125 229.480469 112.890625 C 228.605469 112.929688 227.945313 112.984375 227.28125 112.988281 C 211.457031 113.019531 195.632813 113.054688 179.808594 113.078125 C 172.917969 113.089844 166.027344 113.058594 159.140625 113.097656 C 157.855469 113.105469 156.804688 112.8125 155.75 112.027344 C 151.464844 108.835938 146.890625 106.179688 141.714844 104.636719 C 140.167969 104.175781 138.714844 103.347656 137.285156 102.570313 C 136.3125 102.042969 135.585938 101.222656 135.554688 99.796875 C 137.011719 98.625 138.828125 98.257813 140.632813 98.261719 C 142.730469 98.265625 144.820313 98.703125 146.921875 98.816406 C 148.332031 98.890625 149.800781 98.9375 151.160156 98.628906 C 153.269531 98.144531 153.910156 96.328125 152.414063 94.769531 C 150.976563 93.277344 149.234375 91.96875 147.410156 90.988281 C 144.597656 89.472656 141.601563 88.300781 138.675781 87.003906 C 137.335938 86.410156 136.105469 85.660156 135.425781 84.328125 C 135.035156 83.558594 134.742188 82.6875 134.652344 81.835938 C 134.472656 80.128906 135.007813 78.660156 137.5 78.996094 C 138.847656 79.179688 140.222656 79.304688 141.574219 79.246094 C 143.53125 79.15625 144.042969 78.183594 142.949219 76.5625 C 140.769531 73.320313 137.695313 71.070313 134.324219 69.195313 C 133.699219 68.84375 133.074219 68.484375 132.546875 68.1875 C 132.515625 66.753906 133.445313 66.339844 134.210938 65.800781 C 134.488281 65.605469 134.789063 65.441406 135.089844 65.28125 C 138.078125 63.71875 138.261719 62.417969 135.683594 60.136719 C 134.511719 59.101563 133.132813 58.3125 131.933594 57.304688 C 130.6875 56.257813 129.425781 55.1875 128.390625 53.9375 C 126.9375 52.183594 127.152344 51.296875 128.910156 49.839844 C 129.851563 49.058594 130.839844 48.296875 131.613281 47.363281 C 132.867188 45.851563 132.433594 44.914063 130.507813 44.597656 C 129.503906 44.433594 128.460938 44.34375 127.515625 43.992188 C 125.261719 43.148438 124.914063 41.25 126.589844 39.507813 C 127.558594 38.503906 128.964844 37.851563 129.363281 36.023438 C 128.804688 35.777344 128.226563 35.308594 127.660156 35.3125 C 124.90625 35.339844 123.8125 33.53125 123.183594 31.324219 C 122.535156 29.03125 122.089844 26.6875 121.550781 24.363281 C 121.382813 23.644531 121.210938 22.925781 121.035156 22.195313 C 119.757813 22.285156 119.722656 23.21875 119.535156 23.964844 C 118.964844 26.210938 118.5 28.480469 117.882813 30.714844 C 117.488281 32.152344 116.980469 33.574219 116.371094 34.933594 C 115.714844 36.394531 114.582031 37.285156 112.855469 37.296875 C 112.230469 37.300781 111.613281 37.605469 111.085938 37.746094 C 110.820313 39.0625 111.570313 39.636719 112.222656 40.203125 C 113.144531 41.011719 114.160156 41.714844 115.085938 42.519531 C 116.363281 43.636719 116.519531 44.445313 115.308594 45.617188 C 113.601563 47.265625 111.71875 48.738281 109.855469 50.21875 C 108.417969 51.363281 106.839844 52.335938 105.441406 53.519531 C 104.945313 53.9375 104.425781 54.878906 104.582031 55.367188 C 104.746094 55.882813 105.667969 56.347656 106.328125 56.472656 C 107.726563 56.738281 109.171875 56.746094 110.59375 56.898438 C 111.746094 57.019531 112.875 57.246094 113.65625 58.261719 C 113.316406 59.867188 112.089844 60.324219 110.84375 60.671875 C 106.925781 61.761719 103.664063 63.929688 100.789063 66.722656 C 100.011719 67.476563 99.292969 68.324219 98.71875 69.238281 C 98.359375 69.8125 98.320313 70.585938 98.054688 71.589844 C 99.25 71.757813 100.15625 71.972656 101.070313 71.984375 C 102.085938 71.996094 103.105469 71.808594 104.121094 71.730469 C 106.378906 71.558594 107.40625 72.660156 107.039063 74.925781 C 106.699219 77.035156 105.476563 78.53125 103.554688 79.417969 C 101.394531 80.421875 99.207031 81.371094 97.023438 82.328125 C 94.863281 83.277344 93 84.644531 91.445313 86.394531 C 90.898438 87.003906 90.585938 87.824219 89.996094 88.84375 C 91.121094 89.167969 91.863281 89.535156 92.621094 89.570313 C 94.933594 89.671875 97.261719 89.777344 99.570313 89.621094 C 100.894531 89.53125 102.171875 88.878906 103.492188 88.585938 C 104.605469 88.339844 105.78125 88.007813 106.878906 88.140625 C 109.386719 88.445313 110.34375 90.613281 108.796875 92.601563 C 107.773438 93.914063 106.480469 95.164063 105.046875 95.988281 C 100.738281 98.464844 96.242188 100.609375 91.925781 103.078125 C 86.300781 106.296875 80.847656 109.800781 76.007813 114.15625 C 75.050781 115.019531 74.140625 115.964844 73.378906 117 C 72.875 117.683594 72.503906 118.570313 72.382813 119.410156 C 72.113281 121.296875 73.550781 122.382813 75.335938 121.769531 C 75.589844 121.679688 75.839844 121.566406 76.085938 121.441406 C 78.421875 120.257813 80.894531 119.996094 83.449219 120.410156 C 87.699219 121.105469 91.734375 120.050781 95.679688 118.738281 C 96.964844 118.3125 97.996094 117.117188 99.148438 116.277344 C 99.890625 115.742188 100.640625 115.214844 101.441406 114.648438 C 103.152344 116.527344 103.140625 118.5 102.511719 120.402344 C 102.03125 121.863281 101.257813 123.292969 100.335938 124.53125 C 98.128906 127.492188 95.582031 130.164063 92.433594 132.164063 C 89.445313 134.066406 86.488281 136.046875 83.363281 137.710938 C 76.871094 141.175781 73.140625 146.550781 71.820313 153.683594 C 71.285156 156.5625 70.835938 159.460938 70.476563 162.367188 C 70.3125 163.683594 70.191406 165.113281 71.472656 166.101563 C 72.835938 166.082031 73.644531 165.164063 74.308594 164.265625 C 77.566406 159.871094 82.019531 158.234375 87.316406 158.269531 C 91.484375 158.292969 95.441406 157.53125 98.863281 154.878906 C 99.679688 154.242188 100.746094 153.921875 101.539063 153.535156 C 102.847656 154.238281 102.679688 155.144531 102.511719 156.019531 C 101.964844 158.886719 100.507813 161.269531 98.238281 163.023438 C 96.640625 164.261719 94.804688 165.222656 93.011719 166.183594 C 91.273438 167.113281 89.453125 167.894531 87.660156 168.730469 C 85.433594 169.769531 83.832031 171.546875 82.246094 173.335938 C 81.484375 174.195313 81.507813 174.40625 81.738281 175.683594 C 88.488281 177.3125 94.964844 177.140625 100.835938 172.867188 C 101.109375 172.667969 101.40625 172.488281 101.707031 172.335938 C 103.5 171.414063 104.902344 172.167969 104.839844 174.207031 C 104.796875 175.597656 104.5 177.070313 103.933594 178.332031 C 103.039063 180.332031 101.625 182.007813 99.816406 183.328125 C 95.242188 186.667969 90.523438 189.761719 85.480469 192.378906 C 80.933594 194.742188 77.011719 197.871094 74.8125 202.707031 C 74.425781 203.554688 73.894531 204.425781 74.683594 205.59375 C 75.308594 205.476563 76.097656 205.503906 76.707031 205.183594 C 79.675781 203.613281 82.757813 203.808594 85.886719 204.417969 C 87.359375 204.703125 88.816406 205.140625 90.300781 205.269531 C 92.03125 205.417969 93.78125 205.304688 95.757813 205.304688 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(60.398865%,10.598755%,11.799622%);fill-opacity:1;" d="M 172.03125 241.433594 C 171.183594 237.375 169.734375 234.207031 166.972656 231.804688 C 165.648438 230.652344 164.160156 229.609375 162.59375 228.832031 C 159.050781 227.085938 155.414063 225.53125 151.816406 223.90625 C 150.824219 223.457031 149.777344 223.105469 148.84375 222.5625 C 145.734375 220.753906 144.632813 216.027344 146.679688 212.625 C 147.207031 212.910156 147.871094 213.089844 148.269531 213.511719 C 151.332031 216.757813 155.089844 218.152344 159.503906 217.875 C 162.183594 217.707031 164.597656 218.246094 166.746094 220.035156 C 167.566406 220.71875 168.789063 220.925781 170.265625 221.527344 C 170.3125 220.320313 170.503906 219.53125 170.34375 218.820313 C 168.496094 210.597656 164.527344 203.855469 156.734375 199.941406 C 151.722656 197.421875 147.054688 194.367188 142.5 191.121094 C 140.457031 189.664063 138.851563 187.851563 137.675781 185.652344 C 137.230469 184.816406 136.777344 183.953125 137.308594 182.714844 C 137.910156 182.761719 138.585938 182.699219 139.175781 182.890625 C 140.53125 183.328125 141.878906 183.828125 143.175781 184.421875 C 146.328125 185.863281 149.5625 186.253906 152.945313 185.445313 C 155.296875 184.886719 157.648438 184.601563 159.953125 185.679688 C 160.191406 185.789063 160.484375 185.8125 160.753906 185.828125 C 162.628906 185.945313 163.484375 184.753906 162.578125 183.125 C 162.089844 182.25 161.382813 181.464844 160.648438 180.769531 C 157.644531 177.925781 154.101563 175.910156 150.335938 174.242188 C 148.78125 173.550781 147.253906 172.789063 145.757813 171.988281 C 142.609375 170.296875 140.578125 167.625 139.273438 164.359375 C 138.863281 163.34375 138.472656 162.28125 139.445313 161.320313 C 140.425781 160.347656 141.582031 159.824219 142.964844 160.15625 C 143.820313 160.363281 144.636719 160.734375 145.46875 161.035156 C 150.398438 162.808594 155.332031 164.566406 160.25 166.371094 C 161.332031 166.765625 162.335938 167.367188 163.40625 167.800781 C 164.785156 168.363281 166.15625 169.03125 167.597656 169.328125 C 169.851563 169.792969 171.03125 168.664063 170.753906 166.382813 C 170.238281 162.179688 169.433594 158.035156 167.554688 154.179688 C 167.355469 153.765625 167.207031 153.324219 166.984375 152.78125 C 167.660156 152.746094 168.191406 152.699219 168.722656 152.699219 C 175.679688 152.695313 182.636719 152.722656 189.59375 152.671875 C 190.777344 152.664063 191.609375 153.015625 192.449219 153.859375 C 204.347656 165.78125 216.273438 177.679688 228.222656 189.554688 C 229.113281 190.433594 229.511719 191.308594 229.507813 192.582031 C 229.476563 230.914063 229.476563 269.246094 229.507813 307.574219 C 229.511719 308.851563 229.132813 309.738281 228.222656 310.605469 C 218.761719 319.648438 209.332031 328.726563 199.898438 337.800781 C 195.179688 342.335938 190.457031 346.863281 185.765625 351.425781 C 185.039063 352.128906 184.339844 352.5625 183.273438 352.539063 C 179.320313 352.457031 175.359375 352.589844 171.414063 352.402344 C 165.496094 352.117188 160.089844 350.117188 155.121094 346.949219 C 154.160156 346.339844 153.296875 345.511719 152.550781 344.640625 C 149.996094 341.652344 147.066406 339.128906 143.585938 337.296875 C 135.359375 332.960938 131.722656 325.789063 131.015625 316.871094 C 130.78125 313.886719 130.871094 310.875 130.867188 307.878906 C 130.847656 299.554688 130.851563 291.234375 130.867188 282.914063 C 130.871094 281.648438 130.582031 280.113281 132.054688 279.496094 C 133.34375 278.957031 134.363281 279.984375 135.308594 280.730469 C 138.101563 282.945313 141.253906 283.980469 144.816406 283.777344 C 146.585938 283.675781 148.371094 283.726563 150.121094 283.484375 C 153.332031 283.042969 156.441406 283.457031 159.304688 284.800781 C 162.6875 286.386719 165.941406 288.257813 169.171875 290.144531 C 171.757813 291.652344 174.191406 293.425781 176.761719 294.96875 C 177.855469 295.625 179.082031 296.132813 180.316406 296.464844 C 181.867188 296.878906 182.902344 296.148438 183.003906 294.554688 C 183.097656 293.140625 183.144531 291.628906 182.75 290.296875 C 181.433594 285.863281 180.027344 281.445313 178.417969 277.109375 C 177.421875 274.425781 175.296875 272.492188 172.996094 270.851563 C 171.503906 269.78125 169.882813 268.898438 168.34375 267.894531 C 167.550781 267.375 166.710938 266.863281 166.082031 266.179688 C 164.160156 264.085938 164.253906 262.160156 166.152344 260.03125 C 166.914063 259.175781 167.660156 258.253906 168.191406 257.242188 C 169.503906 254.75 168.828125 252.628906 166.1875 251.574219 C 164.3125 250.828125 162.277344 250.390625 160.273438 250.089844 C 155.894531 249.433594 151.964844 247.890625 148.859375 244.667969 C 147.835938 243.601563 146.992188 242.324219 146.234375 241.046875 C 145.417969 239.660156 145.804688 238.265625 147.15625 237.328125 C 148.867188 236.140625 150.722656 235.925781 152.546875 236.996094 C 157.476563 239.898438 162.835938 241.273438 168.496094 241.574219 C 169.546875 241.628906 170.605469 241.496094 172.03125 241.433594 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(60.398865%,10.598755%,11.799622%);fill-opacity:1;" d="M 12.75 258.398438 C 34.238281 258.398438 55.605469 258.398438 76.972656 258.398438 C 77.019531 258.496094 77.0625 258.589844 77.109375 258.6875 C 76.363281 259.082031 75.628906 259.503906 74.863281 259.871094 C 71.144531 261.648438 67.679688 263.773438 65.003906 266.992188 C 62.476563 270.03125 58.757813 281.015625 58.914063 284.972656 C 58.933594 285.378906 58.933594 285.800781 59.046875 286.1875 C 59.351563 287.253906 59.738281 288.289063 60.941406 288.664063 C 62.191406 289.050781 62.996094 288.320313 63.78125 287.511719 C 69.570313 281.523438 76.71875 277.800781 84.578125 275.441406 C 86.878906 274.75 89.441406 274.96875 91.863281 274.640625 C 93.882813 274.367188 95.902344 274.007813 97.871094 273.5 C 100.289063 272.878906 102.339844 271.5625 104.097656 269.753906 C 105.183594 268.632813 106.375 267.59375 107.609375 266.632813 C 108.386719 266.027344 109.265625 265.410156 110.640625 265.789063 C 110.722656 266.390625 110.882813 267.03125 110.878906 267.667969 C 110.859375 280.21875 110.882813 292.765625 110.75 305.3125 C 110.707031 309.253906 110.398438 313.207031 109.335938 317.054688 C 108.589844 319.746094 107.410156 322.117188 105.199219 323.9375 C 103.621094 325.238281 102.167969 326.683594 100.652344 328.054688 C 97.441406 330.957031 94.738281 334.253906 92.527344 337.984375 C 90.582031 341.277344 88.347656 344.371094 85.453125 346.933594 C 81.402344 350.507813 76.671875 352.347656 71.28125 352.417969 C 67.121094 352.472656 62.960938 352.398438 58.796875 352.449219 C 57.757813 352.464844 57.03125 352.128906 56.285156 351.40625 C 47.375 342.777344 38.429688 334.175781 29.488281 325.574219 C 24.476563 320.757813 19.472656 315.925781 14.410156 311.164063 C 13.140625 309.972656 12.515625 308.765625 12.527344 306.933594 C 12.636719 291.386719 12.632813 275.835938 12.667969 260.285156 C 12.667969 259.6875 12.71875 259.09375 12.75 258.398438 "/>
</g>
</svg>

    </a>
    Torch Choice
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../data_management/" class="md-nav__link">
        Tutorial for Data Management
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tutorial for Easy Data Management and Stata Users
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tutorial for Easy Data Management and Stata Users
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#references-and-background-for-stata-users" class="md-nav__link">
    References and Background for Stata Users
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../conditional_logit_model_mode_canada/" class="md-nav__link">
        Tutorial for Conditional Logit Model
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nested_logit_model_house_cooling/" class="md-nav__link">
        Tutorial for Nested Logit Model
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../projects/" class="md-nav__link">
        Related Projects
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../test/" class="md-nav__link">
        Compatibility Tests
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../api_torch_choice/" class="md-nav__link">
        API Reference Torch-Choice
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#references-and-background-for-stata-users" class="md-nav__link">
    References and Background for Stata Users
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="easy-data-wrapper-tutorial">Easy Data Wrapper Tutorial</h1>
<p>The data construction covered in the Data Management tutorial might be too complicated for users without prior experience in PyTorch.
This tutorial offers a helper class to wrap the dataset, all the user needs to know is</p>
<p>(1) loading data-frames to Python, Pandas provides one-line solution to loading various types of data files including CSV, TSV, Stata, and Excel.</p>
<p>(2) basic usage of pandas. </p>
<p>We aim to make this tutorial as self-contained as possible, so you don't need to be worried if you haven't went through the <em>Data Management tutorial</em>. But we invite you to go through that tutorial to obtain a more in-depth understanding of data management in this project.</p>
<p>Author: Tianyu Du</p>
<p>Date: May. 20, 2022</p>
<p>Update: Jul. 9, 2022</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Tianyu Du&#39;</span>
</code></pre></div>
<p>Let's import a few necessary packages.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kn">import</span> <span class="nn">torch</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kn">from</span> <span class="nn">torch_choice.utils.easy_data_wrapper</span> <span class="kn">import</span> <span class="n">EasyDatasetWrapper</span>
</code></pre></div>
<h2 id="references-and-background-for-stata-users">References and Background for Stata Users</h2>
<p>This tutorial aim to show how to manage choice datasets using the <code>torch-choice</code> package, we will follow the Stata documentation <a href="https://www.stata.com/manuals/cm.pdf">here</a> to offer a seamless experience for the user to transfer prior knowledge in other packages to our package.</p>
<p><em>From Stata Documentation</em>: Choice models (CM) are models for data with outcomes that are choices. The choices are selected by a decision maker, such as a person or a business (i.e., the <strong>user</strong>), from a set of possible alternatives (i.e., the <strong>items</strong>). For instance, we could model choices made by consumers who select a breakfast cereal from several different brands. Or we could model choices made by businesses who chose whether to buy TV, radio, Internet, or newspaper advertising.</p>
<p>Models for choice data come in two varietiesmodels for discrete choices and models for rank-ordered alternatives. When each individual selects a single alternative, say, he or she purchases one box of cereal, the data are discrete choice data. When each individual ranks the choices, say, he or she orders cereals from most favorite to least favorite, the data are rank-ordered data. Stata has commands for fitting both discrete choice models and rank-ordered models.</p>
<p>Our <code>torch-choice</code> package handles the <strong>discrete choice</strong> models in the Stata document above.</p>
<h1 id="motivations">Motivations</h1>
<p>In the following parts, we demonstrate how to convert a long-format data (e.g., the one used in Stata) to the <code>ChoiceDataset</code> data format expected by our package.</p>
<p>But first, <em>Why do we want another <code>ChoiceDataset</code> object instead of just one long-format data-frame?</em>
In earlier versions of Stata, we can only have one single data-frame loaded in memory, this would introduce memory error especially when teh dataset is large. For example, you have a dataset of a million decisions recorded, each consists of four items, and each item has a persistent <em>built quality</em> that stay the same in all observations. The Stata format would make a million copy of these variables, which is very inefficient.</p>
<p>We would need to collect a couple of data-frames as the essential pieces to build our <code>ChoiceDataset</code>. Don't worry, as soon as you have the data-frames ready, the <code>EasyDataWrapper</code> helper class would take care of the rest.</p>
<p>We call a single statistical observation a <strong>"purchase record"</strong> and use this terminology throughout the tutorial. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_stata</span><span class="p">(</span><span class="s1">&#39;https://www.stata-press.com/data/r17/carchoice.dta&#39;</span><span class="p">)</span>
</code></pre></div>
<p>We load the artificial dataset from the Stata website. Here we borrow the description of dataset reported from the <code>describe</code> command in Stata. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Contains data from https://www.stata-press.com/data/r17/carchoice.dta
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a> Observations:         3,160                  Car choice data
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    Variables:             6                  30 Jul 2020 14:58
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>---------------------------------------------------------------------------------------------------------------------------------------------------
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Variable      Storage   Display    Value
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    name         type    format    label      Variable label
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>---------------------------------------------------------------------------------------------------------------------------------------------------
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>consumerid      int     %8.0g                 ID of individual consumer
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>car             byte    %9.0g      nation     Nationality of car
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>purchase        byte    %10.0g                Indicator of car purchased
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>gender          byte    %9.0g      gender     Gender: 0 = Female, 1 = Male
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>income          float   %9.0g                 Income (in $1,000)
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>dealers         byte    %9.0g                 No. of dealerships in community
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>---------------------------------------------------------------------------------------------------------------------------------------------------
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>Sorted by: consumerid  car
</code></pre></div>
<p>In this dataset, the first four rows with <code>consumerid == 1</code> corresponds to the first <strong>purchasing record</strong>, it means the consumer with ID 1 was making the decision among four types of cars (i.e., <strong>items</strong>) and chose <code>American</code> car (since the <code>purchase == 1</code> in that row of <code>American</code> car).</p>
<p>Even though there were four types of cars, not all of them were available all the time. For example, for the <strong>purchase record</strong> by consumer with ID 4, only American, Japanese, and European cars were available (note that there is no row in the dataset with <code>consumerid == 4</code> and <code>car == 'Korean'</code>, this indicates unavailability of a certain item.)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>consumerid</th>
      <th>car</th>
      <th>purchase</th>
      <th>gender</th>
      <th>income</th>
      <th>dealers</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>American</td>
      <td>1</td>
      <td>Male</td>
      <td>46.699997</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>Japanese</td>
      <td>0</td>
      <td>Male</td>
      <td>46.699997</td>
      <td>11</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>European</td>
      <td>0</td>
      <td>Male</td>
      <td>46.699997</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>Korean</td>
      <td>0</td>
      <td>Male</td>
      <td>46.699997</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>American</td>
      <td>1</td>
      <td>Male</td>
      <td>26.100000</td>
      <td>10</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2</td>
      <td>Japanese</td>
      <td>0</td>
      <td>Male</td>
      <td>26.100000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2</td>
      <td>European</td>
      <td>0</td>
      <td>Male</td>
      <td>26.100000</td>
      <td>2</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2</td>
      <td>Korean</td>
      <td>0</td>
      <td>Male</td>
      <td>26.100000</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>3</td>
      <td>American</td>
      <td>0</td>
      <td>Male</td>
      <td>32.700001</td>
      <td>8</td>
    </tr>
    <tr>
      <th>9</th>
      <td>3</td>
      <td>Japanese</td>
      <td>1</td>
      <td>Male</td>
      <td>32.700001</td>
      <td>6</td>
    </tr>
    <tr>
      <th>10</th>
      <td>3</td>
      <td>European</td>
      <td>0</td>
      <td>Male</td>
      <td>32.700001</td>
      <td>2</td>
    </tr>
    <tr>
      <th>11</th>
      <td>4</td>
      <td>American</td>
      <td>1</td>
      <td>Female</td>
      <td>49.199997</td>
      <td>5</td>
    </tr>
    <tr>
      <th>12</th>
      <td>4</td>
      <td>Japanese</td>
      <td>0</td>
      <td>Female</td>
      <td>49.199997</td>
      <td>4</td>
    </tr>
    <tr>
      <th>13</th>
      <td>4</td>
      <td>European</td>
      <td>0</td>
      <td>Female</td>
      <td>49.199997</td>
      <td>3</td>
    </tr>
    <tr>
      <th>14</th>
      <td>5</td>
      <td>American</td>
      <td>0</td>
      <td>Male</td>
      <td>24.299999</td>
      <td>8</td>
    </tr>
    <tr>
      <th>15</th>
      <td>5</td>
      <td>Japanese</td>
      <td>0</td>
      <td>Male</td>
      <td>24.299999</td>
      <td>3</td>
    </tr>
    <tr>
      <th>16</th>
      <td>5</td>
      <td>European</td>
      <td>1</td>
      <td>Male</td>
      <td>24.299999</td>
      <td>3</td>
    </tr>
    <tr>
      <th>17</th>
      <td>6</td>
      <td>American</td>
      <td>1</td>
      <td>Female</td>
      <td>39.000000</td>
      <td>10</td>
    </tr>
    <tr>
      <th>18</th>
      <td>6</td>
      <td>Japanese</td>
      <td>0</td>
      <td>Female</td>
      <td>39.000000</td>
      <td>6</td>
    </tr>
    <tr>
      <th>19</th>
      <td>6</td>
      <td>European</td>
      <td>0</td>
      <td>Female</td>
      <td>39.000000</td>
      <td>1</td>
    </tr>
    <tr>
      <th>20</th>
      <td>7</td>
      <td>American</td>
      <td>0</td>
      <td>Male</td>
      <td>33.000000</td>
      <td>10</td>
    </tr>
    <tr>
      <th>21</th>
      <td>7</td>
      <td>Japanese</td>
      <td>0</td>
      <td>Male</td>
      <td>33.000000</td>
      <td>6</td>
    </tr>
    <tr>
      <th>22</th>
      <td>7</td>
      <td>European</td>
      <td>1</td>
      <td>Male</td>
      <td>33.000000</td>
      <td>4</td>
    </tr>
    <tr>
      <th>23</th>
      <td>7</td>
      <td>Korean</td>
      <td>0</td>
      <td>Male</td>
      <td>33.000000</td>
      <td>1</td>
    </tr>
    <tr>
      <th>24</th>
      <td>8</td>
      <td>American</td>
      <td>1</td>
      <td>Male</td>
      <td>20.299999</td>
      <td>6</td>
    </tr>
    <tr>
      <th>25</th>
      <td>8</td>
      <td>Japanese</td>
      <td>0</td>
      <td>Male</td>
      <td>20.299999</td>
      <td>5</td>
    </tr>
    <tr>
      <th>26</th>
      <td>8</td>
      <td>European</td>
      <td>0</td>
      <td>Male</td>
      <td>20.299999</td>
      <td>3</td>
    </tr>
    <tr>
      <th>27</th>
      <td>9</td>
      <td>American</td>
      <td>0</td>
      <td>Male</td>
      <td>38.000000</td>
      <td>9</td>
    </tr>
    <tr>
      <th>28</th>
      <td>9</td>
      <td>Japanese</td>
      <td>1</td>
      <td>Male</td>
      <td>38.000000</td>
      <td>9</td>
    </tr>
    <tr>
      <th>29</th>
      <td>9</td>
      <td>European</td>
      <td>0</td>
      <td>Male</td>
      <td>38.000000</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>

<h1 id="components-of-the-consumer-choice-modelling-problem">Components of the Consumer Choice Modelling Problem</h1>
<p>We begin with essential component of the consumer choice modelling problem. Walking through these components should help you understand what kind of data our models are working on.</p>
<h3 id="purchasing-record">Purchasing Record</h3>
<p>Each row (record) of the dataset is called a <strong>purchasing record</strong>, which includes <em>who</em> bought <em>what</em> at <em>when</em> and <em>where</em>.
Let <span class="arithmatex">\(B\)</span> denote the number of <strong>purchasing records</strong> in the dataset (i.e., number of rows of the dataset). Each row <span class="arithmatex">\(b \in \{1,2,\dots, B\}\)</span> corresponds to a purchase record (i.e., <em>who</em> bought <em>what</em> at <em>where and when</em>).</p>
<h3 id="items-and-categories">Items and Categories</h3>
<p>To begin with, there are <span class="arithmatex">\(I\)</span> <strong>items</strong> indexed by <span class="arithmatex">\(i \in \{1,2,\dots,I\}\)</span> under our consideration.</p>
<p>Further, the researcher can optionally partition the set items into <span class="arithmatex">\(C\)</span> <strong>categories</strong> indexed by <span class="arithmatex">\(c \in \{1,2,\dots,C\}\)</span>. Let <span class="arithmatex">\(I_c\)</span> denote the collection of items in category <span class="arithmatex">\(c\)</span>, it is easy to verify that</p>
<div class="arithmatex">\[
\bigcup_{c \in \{1, 2, \dots, C\}} I_c = \{1, 2, \dots I\}
\]</div>
<p>If the researcher does not wish to model different categories differently, the researcher can simply put all items in one single category: <span class="arithmatex">\(I_1 = \{1, 2, \dots I\}\)</span>, so that all items belong to the same category.</p>
<p><strong>Note</strong>: since we will be using PyTorch to train our model, we represent their identities with integer values instead of the raw human-readable names of items (e.g., Dell 24 inch LCD monitor).
Raw item names can be encoded easily with <a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OrdinalEncoder.html">sklearn.preprocessing.OrdinalEncoder</a>.</p>
<h3 id="users">Users</h3>
<p>Each purchaing reocrd is naturally associated with an <strong>user</strong> indexed by <span class="arithmatex">\(u \in \{1,2,\dots,U\}\)</span> (<em>who</em>) as well.</p>
<h3 id="sessions">Sessions</h3>
<p>Our data structure encompasses <em>where and when</em> using a notion called <strong>session</strong> indexed by <span class="arithmatex">\(s \in \{1,2,\dots, S\}\)</span>.
For example, when the data came from a single store over the period of a year. In this case, the notion of <em>where</em> does not matter that much, and session <span class="arithmatex">\(s\)</span> is simply the date of purchase.</p>
<p>Another example is that we have the purchase record from different stores, the session <span class="arithmatex">\(s\)</span> can be defined as a pair of <em>(date, store)</em> instead.</p>
<p>If the researcher does not wish to handle records from different sessions differently, the researcher can assign the same session ID to all rows of the dataset.</p>
<p>To summarize, each purchasing record <span class="arithmatex">\(b\)</span> in the dataset is characterized by a user-session-item tuple <span class="arithmatex">\((u, s, i)\)</span>.</p>
<p>When there are multiple items bought by the same user in the same session, there will be multiple rows in the dataset with the same <span class="arithmatex">\((u, s)\)</span> corresponding to the same receipt.</p>
<h1 id="format-the-dataset-a-little-bit">Format the Dataset a Little Bit</h1>
<p>The wrapper we built requires several data frames, providing the correct information is all we need to do in this tutorial, the data wrapper will handle the construction of <code>ChoiceDataset</code> for you.</p>
<p><strong>Note</strong>: The dataset in this tutorial is a bit over-simplified, we only have one purchase record for each user in each session, so the <code>consumerid</code> column identifies all of the user, the session, and the purchase record (because we have different dealers for the same type of car, we define each purchase record of it's session instead of assigning all purchase records to the same session).
That is, we have a single user makes a single choice in each single session.</p>
<p>The <strong>main dataset</strong> should contain the following columns:</p>
<ol>
<li><code>purchase_record_column</code>: a column identifies <strong>purchase record</strong> (also called <strong>case</strong> in Stata syntax). this tutorial, the <code>consumerid</code> column is the identifier. For example, the first 4 rows of the dataset (see above) has <code>consumerid == 1</code>, this means we should look at the first 4 rows together and they constitute the first purchase record.</li>
<li><code>item_name_column</code>: a column identifies <strong>names of items</strong>, which is <code>car</code> in the dataset above. This column provides information above the availability as well. As mentioned above, there is no column with <code>car == Korean</code> in the fourth purchasing record (<code>consumerid == 4</code>), so we know that Korean car was not available that time.</li>
<li><code>choice_column</code>: a column identifies the <strong>choice</strong> made by the consumer in each purchase record, which is the <code>purchase</code> column in our example. Exactly one row per purchase record (i.e., rows with the same values in <code>purchase_record_column</code>) should have 1, while the values are zeros for all other rows.</li>
<li><code>user_index_column</code>: a <em>optional</em> column identifies the <strong>user</strong> making the choice, which is also <code>consumerid</code> in our case.</li>
<li><code>session_index_column</code>: a <em>optional</em> column identifies the <strong>session</strong> of the choice, which is also <code>consumerid</code> in our case.</li>
</ol>
<p>As you might have noticed, the <code>consumerid</code> column in the data-frame identifies multiple pieces of information: <code>purchase_record</code>, <code>user_index</code>, and <code>session_index</code>. This is not a mistake, you can use the same column in <code>df</code> to supply multiple pieces of information. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">df</span><span class="o">.</span><span class="n">gender</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Male      2283
Female     854
NaN         23
Name: gender, dtype: int64
</code></pre></div>
<p>The only modification required is to convert <code>gender</code> (with values of <code>Male</code>, <code>Female</code> or <code>NaN</code>) to integers because PyTorch does <strong>not</strong> handle strings. For simplicity, we will assume all <code>NaN</code> gender to be <code>Female</code> (you should <strong>not</strong> do this in a real application!) and re-define the gender variable as <span class="arithmatex">\(\mathbb{I}\{\texttt{gender} == \texttt{Male}\}\)</span>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># we change gender to binary 0/1 because pytorch doesn&#39;t handle strings.</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Male&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</code></pre></div>
<p>Now the <code>gender</code> column contains only binary integers.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">df</span><span class="o">.</span><span class="n">gender</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>1    2283
0     877
Name: gender, dtype: int64
</code></pre></div>
<p>The data-frame looks like the following right now:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>consumerid</th>
      <th>car</th>
      <th>purchase</th>
      <th>gender</th>
      <th>income</th>
      <th>dealers</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>American</td>
      <td>1</td>
      <td>1</td>
      <td>46.699997</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>Japanese</td>
      <td>0</td>
      <td>1</td>
      <td>46.699997</td>
      <td>11</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>European</td>
      <td>0</td>
      <td>1</td>
      <td>46.699997</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>Korean</td>
      <td>0</td>
      <td>1</td>
      <td>46.699997</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>American</td>
      <td>1</td>
      <td>1</td>
      <td>26.100000</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div>

<h1 id="adding-the-observables">Adding the Observables</h1>
<p>The next step is to identify observables going into the model.</p>
<p>Specifically, we would want to add:
1. <code>gender</code> and <code>income</code> as user-specific observables
2. and <code>dealers</code> as (session, item)-specific observable. Such observables are called <strong>price observables</strong> in our setting, why? because price is the most typical (session, item)-specific observable.</p>
<h2 id="method-1-adding-observables-by-extracting-columns-of-the-dataset">Method 1: Adding Observables by Extracting Columns of the Dataset</h2>
<p>As you can see, <code>gender</code>, <code>income</code> and <code>dealers</code> are already encompassed in <code>df</code>, the first way to add observables is simply mentioning these columns while initializing the <code>EasyDatasetWrapper</code> object.</p>
<p>You can supply a list of names of columns to each of <code>{user, item, session, price}_observable_columns</code> keyword argument. For example, we use <code>user_observable_columns=['gender', 'income']</code> to inform the <code>EasyDatasetWrapper</code> that we wish to derive user-specific observables from the <code>gender</code> and <code>income</code> columns of <code>df</code>.</p>
<p>Also, we inform the <code>EasyDatasetWrapper</code> that we want to derive (session, item)-specific (i.e., price observable) by specifying <code>price_observable_columns=['dealers']</code>.</p>
<p>Since our package leverages GPU-acceleration, it is necessary to supply the <strong>device</strong> on which the dataset should reside.
The <code>EasyDatasetWrapper</code> also takes a <code>device</code> keyword, which can be either <code>'cpu'</code> or an appropriate CUDA device.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">if</span> <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="n">device</span> <span class="o">=</span> <span class="s1">&#39;cuda&#39;</span>  <span class="c1"># use GPU if available</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="k">else</span><span class="p">:</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="n">device</span> <span class="o">=</span> <span class="s1">&#39;cpu&#39;</span>  <span class="c1"># use CPU otherwise</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">data_1</span> <span class="o">=</span> <span class="n">EasyDatasetWrapper</span><span class="p">(</span><span class="n">main_data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>                            <span class="c1"># TODO: better naming convention? Need to discuss.</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>                            <span class="c1"># after discussion, we add it to the default value</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>                            <span class="c1"># in the data wrapper class.</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>                            <span class="c1"># these are just names.</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>                            <span class="n">purchase_record_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>                            <span class="n">choice_column</span><span class="o">=</span><span class="s1">&#39;purchase&#39;</span><span class="p">,</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>                            <span class="n">item_name_column</span><span class="o">=</span><span class="s1">&#39;car&#39;</span><span class="p">,</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>                            <span class="n">user_index_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>                            <span class="n">session_index_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>                            <span class="c1"># it can be derived from columns of the dataframe or supplied as</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>                            <span class="n">user_observable_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">],</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>                            <span class="n">price_observable_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;dealers&#39;</span><span class="p">],</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>                            <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Creating choice dataset from stata format data-frames...
Note: choice sets of different sizes found in different purchase records: {&#39;size 4&#39;: &#39;occurrence 505&#39;, &#39;size 3&#39;: &#39;occurrence 380&#39;}
Finished Creating Choice Dataset.
</code></pre></div>
<p>The dataset has a <code>summary()</code> method, which can be used to print out the summary of the dataset.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">data_1</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>* purchase record index range: [1 2 3] ... [883 884 885]
* Space of 4 items:
                   0         1         2       3
item name  American  European  Japanese  Korean
* Number of purchase records/cases: 885.
* Preview of main data frame:
      consumerid       car  purchase  gender     income  dealers
0              1  American         1       1  46.699997        9
1              1  Japanese         0       1  46.699997       11
2              1  European         0       1  46.699997        5
3              1    Korean         0       1  46.699997        1
4              2  American         1       1  26.100000       10
...          ...       ...       ...     ...        ...      ...
3155         884  Japanese         1       1  20.900000       10
3156         884  European         0       1  20.900000        4
3157         885  American         1       1  30.600000       10
3158         885  Japanese         0       1  30.600000        5
3159         885  European         0       1  30.600000        4

[3160 rows x 6 columns]
* Preview of ChoiceDataset:
ChoiceDataset(label=[], item_index=[885], user_index=[885], session_index=[885], item_availability=[885, 4], user_gender=[885, 1], user_income=[885, 1], price_dealers=[885, 4, 1], device=cuda:0)
</code></pre></div>
<p>You can access the <code>ChoiceDataset</code> object constructed by calling the <code>data.choice_dataset</code> object. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">data_1</span><span class="o">.</span><span class="n">choice_dataset</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>ChoiceDataset(label=[], item_index=[885], user_index=[885], session_index=[885], item_availability=[885, 4], user_gender=[885, 1], user_income=[885, 1], price_dealers=[885, 4, 1], device=cuda:0)
</code></pre></div>
<h2 id="method-2-adding-observables-as-data-frames">Method 2: Adding Observables as Data Frames</h2>
<p>We can also construct data frames and use data frames to supply different observables. This is useful when you have a large dataset, for example, if there are many purchase records for the same user (to be concrete, say <span class="arithmatex">\(U\)</span> users and <span class="arithmatex">\(N\)</span> purchase records for each user, resulting <span class="arithmatex">\(U \times N\)</span> total purchase records). Using a single data-frame requires a lot of memory: you need to store <span class="arithmatex">\(U \times N\)</span> entires of user genders in total. However, user genders should be persistent across all purchasing records, if we use a separate data-frame mapping user index to gender of the user, we only need to store <span class="arithmatex">\(U\)</span> entries (i.e., one for each user) of gender information.</p>
<p>Similarly, the long-format data requires storing each piece of item-specific information for number of purchase records times, which leads to inefficient usage of disk/memory space.</p>
<h3 id="how-do-observable-data-frame-look-like">How Do Observable Data-frame Look Like?</h3>
<p>Our package natively support the following four types of observables:</p>
<ol>
<li>
<p><strong>User Observables</strong>: user-specific observables (e.g., gender and income) should (1) have length equal to the number of unique users in the dataset (885 here); (2) contains a column named as <code>user_index_column</code> (<code>user_index_column</code> is a variable, the actual column name should be the <strong>value</strong> of variable <code>user_index_column</code>! E.g., here the user observable data-frame should have a column named <code>'consumerid'</code>); (3) the user observable can have any number of other columns beside the <code>user_index_column</code> column, each of them corresponding to a user-specific observable. For example, a data-frame containing <span class="arithmatex">\(X\)</span> user-specific observables has shape <code>(num_users, X + 1)</code>.</p>
</li>
<li>
<p><strong>Item Observables</strong> item-specific observables (not shown in this tutorial) should be (1) have length equal to the number of unique items in the dataset (4 here); (2) contain a column named as <code>item_index_column</code> (<code>item_index_column</code> is a variable, the actual column name should be the <strong>value</strong> of variable <code>item_index_column</code>! E.g., here the item observable data-frame should have a column named <code>'car'</code>); (3) the item observable can have any number of other columns beside the <code>item_index_column</code> column, each of them corresponding to a item-specific observable.</p>
</li>
<li>
<p><strong>Session Observable</strong> session-specific observables (not shown in this tutorial) should be (1) have length equal to the number of unique sessions in the dataset; (2) contain a column named as <code>session_index_column</code> (<code>session_index_column</code> is a variable, the actual column name should be the <strong>value</strong> of variable <code>session_index_column</code>! E.g., here the session observable data-frame should have a column named <code>'consumerid'</code>); (3) the session observable can have any number of other columns beside the <code>session_index_column</code> column, each of them corresponding to a session-specific observable.</p>
</li>
<li>
<p><strong>Price Observables</strong> (session, item)-specific observables (e.g., dealers) should be (1) contains a column named as <code>session_index_column</code> (e.g., <code>consumerid</code> in our example) <strong>and</strong> a column named as <code>item_name_column</code> (e.g., <code>car</code> in our example), (2) the price observable can have any number of other columns beside the <code>session_index_column</code> and <code>item_name_column</code> columns, each of them corresponding to a (session, item)-specific observable. For example, a data-frame containing <span class="arithmatex">\(X\)</span> (session, item)-specific observables has shape <code>(num_sessions, num_items, X + 2)</code>.</p>
</li>
</ol>
<p>We encourage the reader to review the <em>Data Management Tutorial</em> for more details on types of observables.</p>
<h3 id="suggested-procedure-of-storing-and-loading-data">Suggested Procedure of Storing and Loading Data</h3>
<ol>
<li>Suppose <code>SESSION_INDEX</code> column in <code>df_main</code> is the index of the session, <code>ALTERNATIVES</code> column is the index of the car.</li>
<li>For user-specific observables, you should have a CSV on disk with columns {<code>consumerid</code>, <code>var_1</code>, <code>var_2</code>, ...}.</li>
<li>You load the user-specific dataset as <code>user_obs = pd.read_csv(..., index='consumerid')</code>.</li>
</ol>
<p>Let's first construct the data frame for user genders first.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">gender</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;consumerid&#39;</span><span class="p">)[</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</code></pre></div>
<p>The user-observable data-frame contains a column of user IDs (the <code>consumerid</code> column), this column should have exactly the same name as the column containing user indices. Otherwise, the wrapper won't know which column corresponds to user IDs and which column corresponds to variables.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">gender</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>consumerid</th>
      <th>gender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>

<p>Then, let's build the data-frame for user-specific income variables.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">income</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;consumerid&#39;</span><span class="p">)[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">income</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>consumerid</th>
      <th>income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>46.699997</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>26.100000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>32.700001</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>49.199997</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>24.299999</td>
    </tr>
  </tbody>
</table>
</div>

<p>Please note that we can have multiple observables contained in the same data-frame as well.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">gender_and_income</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;consumerid&#39;</span><span class="p">)[[</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="n">gender_and_income</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>consumerid</th>
      <th>gender</th>
      <th>income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>46.699997</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>26.100000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>32.700001</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0</td>
      <td>49.199997</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>1</td>
      <td>24.299999</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>880</th>
      <td>881</td>
      <td>1</td>
      <td>45.700001</td>
    </tr>
    <tr>
      <th>881</th>
      <td>882</td>
      <td>1</td>
      <td>69.800003</td>
    </tr>
    <tr>
      <th>882</th>
      <td>883</td>
      <td>0</td>
      <td>45.599998</td>
    </tr>
    <tr>
      <th>883</th>
      <td>884</td>
      <td>1</td>
      <td>20.900000</td>
    </tr>
    <tr>
      <th>884</th>
      <td>885</td>
      <td>1</td>
      <td>30.600000</td>
    </tr>
  </tbody>
</table>
<p>885 rows  3 columns</p>
</div>

<p>The price observable data-frame contains two columns identifying session (i.e., the <code>consumerid</code> column) and item (i.e., the <code>car</code> column). The session index column should have exactly the same name as the session index column in <code>df</code> and the column indexing columns should have exactly the same name as the item-name-column in <code>df</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">dealers</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span> <span class="s1">&#39;car&#39;</span><span class="p">,</span> <span class="s1">&#39;dealers&#39;</span><span class="p">]]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">dealers</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>consumerid</th>
      <th>car</th>
      <th>dealers</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>American</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>Japanese</td>
      <td>11</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>European</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>Korean</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>American</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="build-datasets-using-easydatasetwrapper-with-observables-as-data-frames">Build Datasets using <code>EasyDatasetWrapper</code> with Observables as Data-Frames</h2>
<p>We can observables as data-frames using <code>{user, item, session, price}_observable_data</code> keyword arguments. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">data_2</span> <span class="o">=</span> <span class="n">EasyDatasetWrapper</span><span class="p">(</span><span class="n">main_data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>                            <span class="n">purchase_record_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>                            <span class="n">choice_column</span><span class="o">=</span><span class="s1">&#39;purchase&#39;</span><span class="p">,</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>                            <span class="n">item_name_column</span><span class="o">=</span><span class="s1">&#39;car&#39;</span><span class="p">,</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>                            <span class="n">user_index_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>                            <span class="n">session_index_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>                            <span class="c1"># above are the same as before, but we update the following.</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>                            <span class="n">user_observable_data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;gender&#39;</span><span class="p">:</span> <span class="n">gender</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">:</span> <span class="n">income</span><span class="p">},</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>                            <span class="n">price_observable_data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;dealers&#39;</span><span class="p">:</span> <span class="n">dealers</span><span class="p">},</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>                            <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Creating choice dataset from stata format data-frames...
Note: choice sets of different sizes found in different purchase records: {&#39;size 4&#39;: &#39;occurrence 505&#39;, &#39;size 3&#39;: &#39;occurrence 380&#39;}
Finished Creating Choice Dataset.
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># Use summary to see what&#39;s inside the data wrapper.</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">data_2</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>* purchase record index range: [1 2 3] ... [883 884 885]
* Space of 4 items:
                   0         1         2       3
item name  American  European  Japanese  Korean
* Number of purchase records/cases: 885.
* Preview of main data frame:
      consumerid       car  purchase  gender     income  dealers
0              1  American         1       1  46.699997        9
1              1  Japanese         0       1  46.699997       11
2              1  European         0       1  46.699997        5
3              1    Korean         0       1  46.699997        1
4              2  American         1       1  26.100000       10
...          ...       ...       ...     ...        ...      ...
3155         884  Japanese         1       1  20.900000       10
3156         884  European         0       1  20.900000        4
3157         885  American         1       1  30.600000       10
3158         885  Japanese         0       1  30.600000        5
3159         885  European         0       1  30.600000        4

[3160 rows x 6 columns]
* Preview of ChoiceDataset:
ChoiceDataset(label=[], item_index=[885], user_index=[885], session_index=[885], item_availability=[885, 4], user_gender=[885, 1], user_income=[885, 1], price_dealers=[885, 4, 1], device=cuda:0)
</code></pre></div>
<p>Alternatively, we can supply user income and gender as a single dataframe, instead of <code>user_gender</code> and <code>user_income</code> tensors, now the constructed <code>ChoiceDataset</code> contains a single <code>user_gender_and_income</code> tensor with shape (885, 2) encompassing both income and gender of users.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">data_3</span> <span class="o">=</span> <span class="n">EasyDatasetWrapper</span><span class="p">(</span><span class="n">main_data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>                            <span class="n">purchase_record_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>                            <span class="n">choice_column</span><span class="o">=</span><span class="s1">&#39;purchase&#39;</span><span class="p">,</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>                            <span class="n">item_name_column</span><span class="o">=</span><span class="s1">&#39;car&#39;</span><span class="p">,</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>                            <span class="n">user_index_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>                            <span class="n">session_index_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>                            <span class="c1"># above are the same as before, but we update the following.</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>                            <span class="n">user_observable_data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;gender_and_income&#39;</span><span class="p">:</span> <span class="n">gender_and_income</span><span class="p">},</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>                            <span class="n">price_observable_data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;dealers&#39;</span><span class="p">:</span> <span class="n">dealers</span><span class="p">},</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>                            <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Creating choice dataset from stata format data-frames...
Note: choice sets of different sizes found in different purchase records: {&#39;size 4&#39;: &#39;occurrence 505&#39;, &#39;size 3&#39;: &#39;occurrence 380&#39;}
Finished Creating Choice Dataset.
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">data_3</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>* purchase record index range: [1 2 3] ... [883 884 885]
* Space of 4 items:
                   0         1         2       3
item name  American  European  Japanese  Korean
* Number of purchase records/cases: 885.
* Preview of main data frame:
      consumerid       car  purchase  gender     income  dealers
0              1  American         1       1  46.699997        9
1              1  Japanese         0       1  46.699997       11
2              1  European         0       1  46.699997        5
3              1    Korean         0       1  46.699997        1
4              2  American         1       1  26.100000       10
...          ...       ...       ...     ...        ...      ...
3155         884  Japanese         1       1  20.900000       10
3156         884  European         0       1  20.900000        4
3157         885  American         1       1  30.600000       10
3158         885  Japanese         0       1  30.600000        5
3159         885  European         0       1  30.600000        4

[3160 rows x 6 columns]
* Preview of ChoiceDataset:
ChoiceDataset(label=[], item_index=[885], user_index=[885], session_index=[885], item_availability=[885, 4], user_gender_and_income=[885, 2], price_dealers=[885, 4, 1], device=cuda:0)
</code></pre></div>
<h2 id="method-3-mixing-method-1-and-method-2">Method 3: Mixing Method 1 and Method 2</h2>
<p>The <code>EasyDataWrapper</code> also support supplying observables as a mixture of above methods. The following example supplies <code>gender</code> user observable as a data-frame but <code>income</code> and <code>dealers</code> as column names. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">data_4</span> <span class="o">=</span> <span class="n">EasyDatasetWrapper</span><span class="p">(</span><span class="n">main_data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>                            <span class="n">purchase_record_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>                            <span class="n">choice_column</span><span class="o">=</span><span class="s1">&#39;purchase&#39;</span><span class="p">,</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>                            <span class="n">item_name_column</span><span class="o">=</span><span class="s1">&#39;car&#39;</span><span class="p">,</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>                            <span class="n">user_index_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>                            <span class="n">session_index_column</span><span class="o">=</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>                            <span class="c1"># above are the same as before, but we update the following.</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>                            <span class="n">user_observable_data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;gender&#39;</span><span class="p">:</span> <span class="n">gender</span><span class="p">},</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>                            <span class="n">user_observable_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">],</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>                            <span class="n">price_observable_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;dealers&#39;</span><span class="p">],</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>                            <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Creating choice dataset from stata format data-frames...
Note: choice sets of different sizes found in different purchase records: {&#39;size 4&#39;: &#39;occurrence 505&#39;, &#39;size 3&#39;: &#39;occurrence 380&#39;}
Finished Creating Choice Dataset.
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">data_4</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>* purchase record index range: [1 2 3] ... [883 884 885]
* Space of 4 items:
                   0         1         2       3
item name  American  European  Japanese  Korean
* Number of purchase records/cases: 885.
* Preview of main data frame:
      consumerid       car  purchase  gender     income  dealers
0              1  American         1       1  46.699997        9
1              1  Japanese         0       1  46.699997       11
2              1  European         0       1  46.699997        5
3              1    Korean         0       1  46.699997        1
4              2  American         1       1  26.100000       10
...          ...       ...       ...     ...        ...      ...
3155         884  Japanese         1       1  20.900000       10
3156         884  European         0       1  20.900000        4
3157         885  American         1       1  30.600000       10
3158         885  Japanese         0       1  30.600000        5
3159         885  European         0       1  30.600000        4

[3160 rows x 6 columns]
* Preview of ChoiceDataset:
ChoiceDataset(label=[], item_index=[885], user_index=[885], session_index=[885], item_availability=[885, 4], user_gender=[885, 1], user_income=[885, 1], price_dealers=[885, 4, 1], device=cuda:0)
</code></pre></div>
<h1 id="sanity-checks">Sanity Checks</h1>
<p>Lastly, let's check choice datasets constructed via different methods are actually the same.</p>
<p>The <code>==</code> method of choice datasets will compare the non-NAN entries of all tensors in datasets. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nb">print</span><span class="p">(</span><span class="n">data_1</span><span class="o">.</span><span class="n">choice_dataset</span> <span class="o">==</span> <span class="n">data_2</span><span class="o">.</span><span class="n">choice_dataset</span><span class="p">)</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="nb">print</span><span class="p">(</span><span class="n">data_1</span><span class="o">.</span><span class="n">choice_dataset</span> <span class="o">==</span> <span class="n">data_4</span><span class="o">.</span><span class="n">choice_dataset</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>True
True
</code></pre></div>
<p>For <code>data_3</code>, we have <code>income</code> and <code>gender</code> combined:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">data_3</span><span class="o">.</span><span class="n">choice_dataset</span><span class="o">.</span><span class="n">user_gender_and_income</span> <span class="o">==</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">data_1</span><span class="o">.</span><span class="n">choice_dataset</span><span class="o">.</span><span class="n">user_gender</span><span class="p">,</span> <span class="n">data_1</span><span class="o">.</span><span class="n">choice_dataset</span><span class="o">.</span><span class="n">user_income</span><span class="p">],</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>tensor([[True, True],
        [True, True],
        [True, True],
        ...,
        [True, True],
        [True, True],
        [True, True]], device=&#39;cuda:0&#39;)
</code></pre></div>
<p>Now let's compare what's inside the data structure and our raw data.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="n">bought_raw</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;purchase&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;car&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="n">bought_data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="n">encoder</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;American&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;European&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Japanese&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Korean&#39;</span><span class="p">}</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">data_1</span><span class="o">.</span><span class="n">choice_dataset</span><span class="o">.</span><span class="n">item_index</span><span class="p">:</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>    <span class="n">bought_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">encoder</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">b</span><span class="p">)])</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nb">all</span><span class="p">(</span><span class="n">bought_raw</span> <span class="o">==</span> <span class="n">bought_data</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>True
</code></pre></div>
<p>Then, let's compare the income and gender variable contained in the dataset. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;consumerid&#39;</span><span class="p">)[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="n">Y</span> <span class="o">=</span> <span class="n">data_1</span><span class="o">.</span><span class="n">choice_dataset</span><span class="o">.</span><span class="n">user_income</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="nb">all</span><span class="p">(</span><span class="n">X</span> <span class="o">==</span> <span class="n">Y</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>True
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;consumerid&#39;</span><span class="p">)[</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="n">Y</span> <span class="o">=</span> <span class="n">data_1</span><span class="o">.</span><span class="n">choice_dataset</span><span class="o">.</span><span class="n">user_gender</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="nb">all</span><span class="p">(</span><span class="n">X</span> <span class="o">==</span> <span class="n">Y</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>True
</code></pre></div>
<p>Lastly, let's compare the <code>price_dealer</code> variable. Since there are NAN-values in it for unavailable cars, we can't not use <code>all(X == Y)</code> to compare them. We will first fill NANs values with <code>-1</code> and then compare resulted data-frames.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1"># rearrange columns to align it with the internal encoding scheme of the data wrapper.</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="s1">&#39;consumerid&#39;</span><span class="p">,</span> <span class="s1">&#39;car&#39;</span><span class="p">,</span> <span class="s1">&#39;dealers&#39;</span><span class="p">)[[</span><span class="s1">&#39;American&#39;</span><span class="p">,</span> <span class="s1">&#39;European&#39;</span><span class="p">,</span> <span class="s1">&#39;Japanese&#39;</span><span class="p">,</span> <span class="s1">&#39;Korean&#39;</span><span class="p">]]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">X</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>car</th>
      <th>American</th>
      <th>European</th>
      <th>Japanese</th>
      <th>Korean</th>
    </tr>
    <tr>
      <th>consumerid</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>9.0</td>
      <td>5.0</td>
      <td>11.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>10.0</td>
      <td>2.0</td>
      <td>7.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>8.0</td>
      <td>2.0</td>
      <td>6.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>8.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>881</th>
      <td>8.0</td>
      <td>2.0</td>
      <td>10.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>882</th>
      <td>8.0</td>
      <td>6.0</td>
      <td>8.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>883</th>
      <td>9.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>884</th>
      <td>12.0</td>
      <td>4.0</td>
      <td>10.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>885</th>
      <td>10.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>885 rows  4 columns</p>
</div>

<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="n">Y</span> <span class="o">=</span> <span class="n">data_1</span><span class="o">.</span><span class="n">choice_dataset</span><span class="o">.</span><span class="n">price_dealers</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="n">Y</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>tensor([[ 9.,  5., 11.,  1.],
        [10.,  2.,  7.,  1.],
        [ 8.,  2.,  6., nan],
        ...,
        [ 9.,  5.,  8.,  1.],
        [12.,  4., 10., nan],
        [10.,  4.,  5., nan]], device=&#39;cuda:0&#39;)
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="n">torch</span><span class="o">.</span><span class="n">nan_to_num</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">())</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>[[ True  True  True  True]
 [ True  True  True  True]
 [ True  True  True  True]
 ...
 [ True  True  True  True]
 [ True  True  True  True]
 [ True  True  True  True]]
</code></pre></div>
<p>This concludes our tutorial on building the dataset, if you wish more in-depth understanding of the data structure, please refer to the <em>Data Management Tutorial</em>.</p>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../data_management/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Tutorial for Data Management" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Tutorial for Data Management
            </div>
          </div>
        </a>
      
      
        
        <a href="../conditional_logit_model_mode_canada/" class="md-footer__link md-footer__link--next" aria-label="Next: Tutorial for Conditional Logit Model" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Tutorial for Conditional Logit Model
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>